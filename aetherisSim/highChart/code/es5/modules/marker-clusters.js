!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts")):"function"==typeof define&&define.amd?define("highcharts/modules/marker-clusters",[["highcharts/highcharts"]],e):"object"==typeof exports?exports["highcharts/modules/marker-clusters"]=e(require("highcharts")):t.Highcharts=e(t.Highcharts)}(this,function(t){return function(){"use strict";var e,i={944:function(e){e.exports=t}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return i[t](n,n.exports,o),n.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var n={};o.d(n,{default:function(){return tk}});var a=o(944),s=o.n(a),l={cluster:{enabled:!1,allowOverlap:!0,animation:{duration:500},drillToCluster:!0,minimumClusterSize:2,layoutAlgorithm:{gridSize:50,distance:40,kmeansThreshold:100},marker:{symbol:"cluster",radius:15,lineWidth:0,lineColor:"#ffffff"},dataLabels:{enabled:!0,format:"{point.clusterPointsAmount}",verticalAlign:"middle",align:"center",style:{color:"contrast"},inside:!0}},tooltip:{clusterFormat:"<span>Clustered points: {point.clusterPointsAmount}</span><br/>"}},u=function(t,e,i){if(i||2==arguments.length)for(var r,o=0,n=e.length;o<n;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};(d=p||(p={})).setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},d.splice=function(t,e,i,r,o){if(void 0===o&&(o=[]),Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice.apply(t,u([e,i],o,!1)),array:t};var n=Object.getPrototypeOf(t).constructor,a=t[r?"subarray":"slice"](e,e+i),s=new n(t.length-i+o.length);return s.set(t.subarray(0,e),0),s.set(o,e),s.set(t.subarray(e+i),e+o.length),{removed:a,array:s}};var d,p,h,c=p,f=c.setLength,m=c.splice,v=s().fireEvent,g=s().objectEach,x=s().uniqueKey,y=function(){function t(t){void 0===t&&(t={});var e=this;this.autoId=!t.id,this.columns={},this.id=t.id||x(),this.modified=this,this.rowCount=0,this.versionTag=x();var i=0;g(t.columns||{},function(t,r){e.columns[r]=t.slice(),i=Math.max(i,t.length)}),this.applyRowCount(i)}return t.prototype.applyRowCount=function(t){var e=this;this.rowCount=t,g(this.columns,function(i,r){i.length!==t&&(e.columns[r]=f(i,t))})},t.prototype.deleteRows=function(t,e){var i=this;if(void 0===e&&(e=1),e>0&&t<this.rowCount){var r=0;g(this.columns,function(o,n){i.columns[n]=m(o,t,e).array,r=o.length}),this.rowCount=r}v(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=x()},t.prototype.getColumn=function(t,e){return this.columns[t]},t.prototype.getColumns=function(t,e){var i=this;return(t||Object.keys(this.columns)).reduce(function(t,e){return t[e]=i.columns[e],t},{})},t.prototype.getRow=function(t,e){var i=this;return(e||Object.keys(this.columns)).map(function(e){var r;return null===(r=i.columns[e])||void 0===r?void 0:r[t]})},t.prototype.setColumn=function(t,e,i,r){var o;void 0===e&&(e=[]),void 0===i&&(i=0),this.setColumns(((o={})[t]=e,o),i,r)},t.prototype.setColumns=function(t,e,i){var r=this,o=this.rowCount;g(t,function(t,e){r.columns[e]=t.slice(),o=t.length}),this.applyRowCount(o),(null==i?void 0:i.silent)||(v(this,"afterSetColumns"),this.versionTag=x())},t.prototype.setRow=function(t,e,i,r){void 0===e&&(e=this.rowCount);var o=this.columns,n=i?this.rowCount+1:e+1;g(t,function(t,a){var s=o[a]||(null==r?void 0:r.addColumns)!==!1&&Array(n);s&&(i?s=m(s,e,0,!0,[t]).array:s[e]=t,o[a]=s)}),n>this.rowCount&&this.applyRowCount(n),(null==r?void 0:r.silent)||(v(this,"afterSetRows"),this.versionTag=x())},t}(),C=s().animObject,I=l.cluster,k=s().addEvent,b=s().defined,M=s().error,S=s().isArray,A=s().isFunction,w=s().isObject,X=s().isNumber,Y=s().merge,P=s().objectEach,L=s().relativeLength,z=s().syncTimeout,O={grid:function(t,e,i,r){var o,n,a,s,l,u,d={},p=this.getGridOffset(),h=this.getScaledGridSize(r);for(u=0;u<t.length;u++){var c=tr(this,{x:t[u],y:e[u]});n=c.x-p.plotLeft,a=c.y-p.plotTop,s=Math.floor(n/h),null!==(o=d[l=Math.floor(a/h)+":"+s])&&void 0!==o||(d[l]=[]),d[l].push({dataIndex:i[u],x:t[u],y:e[u]})}return d},kmeans:function(t,e,i,r){var o,n=[],a=[],s={},l=r.processedDistance||I.layoutAlgorithm.distance,u=r.iterations,d=0,p=!0,h=0,c=0,f=[];r.processedGridSize=r.processedDistance;var m=this.markerClusterAlgorithms?this.markerClusterAlgorithms.grid.call(this,t,e,i,r):{};for(var v in m)m[v].length>1&&(o=R(m[v]),n.push({posX:o.x,posY:o.y,oldX:0,oldY:0,startPointsLen:m[v].length,points:[]}));for(;p;){for(var g=0;g<n.length;g++)n[g].points.length=0;a.length=0;for(var x=0;x<t.length;x++)h=t[x],c=e[x],(f=this.getClusterDistancesFromPoint(n,h,c)).length&&f[0].distance<l?n[f[0].clusterIndex].points.push({x:h,y:c,dataIndex:i[x]}):a.push({x:h,y:c,dataIndex:i[x]});for(var x=0;x<n.length;x++)1===n[x].points.length&&(f=this.getClusterDistancesFromPoint(n,n[x].points[0].x,n[x].points[0].y))[1].distance<l&&(n[f[1].clusterIndex].points.push(n[x].points[0]),n[f[0].clusterIndex].points.length=0);p=!1;for(var x=0;x<n.length;x++)o=R(n[x].points),n[x].oldX=n[x].posX,n[x].oldY=n[x].posY,n[x].posX=o.x,n[x].posY=o.y,(n[x].posX>n[x].oldX+1||n[x].posX<n[x].oldX-1||n[x].posY>n[x].oldY+1||n[x].posY<n[x].oldY-1)&&(p=!0);u&&(p=d<u-1),d++}for(var x=0,y=n.length;x<y;++x)s["cluster"+x]=n[x].points;for(var x=0,y=a.length;x<y;++x)s["noise"+x]=[a[x]];return s},optimizedKmeans:function(t,e,i,r){var o,n,a,s,l,u,d=r.processedDistance||I.layoutAlgorithm.gridSize,p=this.getRealExtremes(),h=(this.options.cluster||{}).marker,c={};if(!this.markerClusterInfo||this.initMaxX&&this.initMaxX<p.maxX||this.initMinX&&this.initMinX>p.minX||this.initMaxY&&this.initMaxY<p.maxY||this.initMinY&&this.initMinY>p.minY)this.initMaxX=p.maxX,this.initMinX=p.minX,this.initMaxY=p.maxY,this.initMinY=p.minY,c=this.markerClusterAlgorithms?this.markerClusterAlgorithms.kmeans.call(this,t,e,i,r):{},this.baseClusters=null;else{null!==(o=this.baseClusters)&&void 0!==o||(this.baseClusters={clusters:this.markerClusterInfo.clusters,noise:this.markerClusterInfo.noise});for(var f=0,m=this.baseClusters.clusters;f<m.length;f++){var v=m[f];v.pointsOutside=[],v.pointsInside=[];for(var g=0,x=v.data;g<x.length;g++){var y=x[g],C=tr(this,y),k=tr(this,v);s=Math.sqrt(Math.pow(C.x-k.x,2)+Math.pow(C.y-k.y,2)),l=d-(u=(null===(a=null===(n=v.clusterZone)||void 0===n?void 0:n.marker)||void 0===a?void 0:a.radius)?v.clusterZone.marker.radius:(null==h?void 0:h.radius)?h.radius:I.marker.radius)>=0?d-u:u,s>u+l&&b(v.pointsOutside)?v.pointsOutside.push(y):b(v.pointsInside)&&v.pointsInside.push(y)}v.pointsInside.length&&(c[v.id]=v.pointsInside);for(var M=0,S=0,A=v.pointsOutside;S<A.length;S++){var w=A[S];c[v.id+"_noise"+M++]=[w]}}for(var X=0,Y=this.baseClusters.noise;X<Y.length;X++){var P=Y[X];c[P.id]=P.data}}return c}},D=[],T=0;function V(t,e,i){t.attr({opacity:e}).animate({opacity:1},i)}function j(t,e,i,r){var o,n;E(t,r,i,!0,!0);for(var a=0;a<e.length;a++)null===(n=null===(o=e[a].point)||void 0===o?void 0:o.destroy)||void 0===n||n.call(o)}function E(t,e,i,r,o){t.point&&(r&&t.point.graphic&&(t.point.graphic.show(),V(t.point.graphic,e,i)),o&&t.point.dataLabel&&(t.point.dataLabel.show(),V(t.point.dataLabel,e,i)))}function R(t){for(var e=t.length,i=0,r=0,o=0;o<e;o++)i+=t[o].x,r+=t[o].y;return{x:i/e,y:r/e}}function G(t,e){var i=[];return i.length=e,t.clusters.forEach(function(t){t.data.forEach(function(t){i[t.dataIndex]=t})}),t.noise.forEach(function(t){i[t.data[0].dataIndex]=t.data[0]}),i}function F(){return Math.random().toString(36).substring(2,7)+"-"+T++}function Z(t,e,i){t.point&&(e&&t.point.graphic&&t.point.graphic.hide(),i&&t.point.dataLabel&&t.point.dataLabel.hide())}function q(t){(t.point||t.target).firePointEvent("drillToCluster",t,function(t){var e,i,r,o,n=t.point||t.target,a=n.series,s=a.xAxis,l=a.yAxis,u=a.chart,d=u.inverted,p=u.mapView,h=u.pointer;if((null===(o=a.options.cluster)||void 0===o?void 0:o.drillToCluster)&&n.clusteredData){var c=n.clusteredData.map(function(t){return t.x}).sort(function(t,e){return t-e}),f=n.clusteredData.map(function(t){return t.y}).sort(function(t,e){return t-e}),m=c[0],v=c[c.length-1],g=f[0],x=f[f.length-1],y=Math.abs((v-m)*.1),C=Math.abs((x-g)*.1),I=Math.min(m,v)-y,k=Math.max(m,v)+y,b=Math.min(g,x)-C,M=Math.max(g,x)+C;if(p)p.fitToBounds({x1:I,x2:k,y1:b,y2:M});else if(s&&l){var S=s.toPixels(I),A=s.toPixels(k),w=l.toPixels(b),X=l.toPixels(M);d&&(S=(e=[w,X,S,A])[0],A=e[1],w=e[2],X=e[3]),S>A&&(S=(i=[A,S])[0],A=i[1]),w>X&&(w=(r=[X,w])[0],X=r[1]),h&&(h.zoomX=!0,h.zoomY=!0),u.transform({from:{x:S,y:w,width:A-S,height:X-w}})}}})}function H(t,e){var i=t.chart,r=t.xAxis,o=t.yAxis;return i.mapView?i.mapView.pixelsToProjectedUnits(e):{x:r?r.toValue(e.x):0,y:o?o.toValue(e.y):0}}function W(t){var e,i,r,o,n,a,s,l,u,d,p=this.chart,h=p.mapView,c=C(null===(e=this.options.cluster)||void 0===e?void 0:e.animation),f=c.duration||500,m=null===(i=this.markerClusterInfo)||void 0===i?void 0:i.pointsState,v=null==m?void 0:m.newState,g=null==m?void 0:m.oldState,x=[],y=0,I=0,k=0,b=!1,M=!1;if(g&&v){var S=tr(this,u=v[t.stateId]);I=S.x-(h?0:p.plotLeft),k=S.y-(h?0:p.plotTop),1===u.parentsId.length?(l=g[null==v?void 0:v[t.stateId].parentsId[0]],(null===(r=u.point)||void 0===r?void 0:r.graphic)&&(null===(o=l.point)||void 0===o?void 0:o.plotX)&&l.point.plotY&&(l.point.plotX!==u.point.plotX||l.point.plotY!==u.point.plotY)&&(d=u.point.graphic.getBBox(),y=(null===(n=u.point.graphic)||void 0===n?void 0:n.isImg)?0:d.width/2,u.point.graphic.attr({x:l.point.plotX-y,y:l.point.plotY-y}),u.point.graphic.animate({x:I-(u.point.graphic.radius||0),y:k-(u.point.graphic.radius||0)},c,function(){var t,e;M=!0,null===(e=null===(t=l.point)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t)}),(null===(a=u.point.dataLabel)||void 0===a?void 0:a.alignAttr)&&(null===(s=l.point.dataLabel)||void 0===s?void 0:s.alignAttr)&&(u.point.dataLabel.attr({x:l.point.dataLabel.alignAttr.x,y:l.point.dataLabel.alignAttr.y}),u.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y},c)))):0===u.parentsId.length?(Z(u,!0,!0),z(function(){E(u,.1,c,!0,!0)},f/2)):(Z(u,!0,!0),u.parentsId.forEach(function(t){var e,i,r;(null==g?void 0:g[t])&&(l=g[t],x.push(l),(null===(e=l.point)||void 0===e?void 0:e.graphic)&&(b=!0,l.point.graphic.show(),l.point.graphic.animate({x:I-(l.point.graphic.radius||0),y:k-(l.point.graphic.radius||0),opacity:.4},c,function(){M=!0,j(u,x,c,.7)}),l.point.dataLabel&&-9999!==l.point.dataLabel.y&&(null===(r=null===(i=u.point)||void 0===i?void 0:i.dataLabel)||void 0===r?void 0:r.alignAttr)&&(l.point.dataLabel.show(),l.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y,opacity:.4},c))))}),z(function(){M||j(u,x,c,.85)},f),b||z(function(){j(u,x,c,.1)},f/2))}}function N(){var t;null===(t=this.markerClusterSeriesData)||void 0===t||t.forEach(function(t){var e;null===(e=null==t?void 0:t.destroy)||void 0===e||e.call(t)}),this.markerClusterSeriesData=null}function B(){var t,e,i,r,o,n,a,s,l,u,d,p,c,f,m,v,g,x,C,M,S,w=this,Y=w.chart,P=Y.mapView,z=w.getColumn("x"),O=w.getColumn("y"),D=w.options.cluster,T=w.getRealExtremes(),V=[],j=[],E=[];if(P&&w.is("mappoint")&&z&&O&&(null===(t=w.options.data)||void 0===t||t.forEach(function(t,e){var i=w.projectPoint(t);i&&(z[e]=i.x,O[e]=i.y)})),(null==D?void 0:D.enabled)&&(null==z?void 0:z.length)&&(null==O?void 0:O.length)&&!Y.polar){v=D.layoutAlgorithm.type,(M=D.layoutAlgorithm).processedGridSize=L(M.gridSize||I.layoutAlgorithm.gridSize,Y.plotWidth),M.processedDistance=L(M.distance||I.layoutAlgorithm.distance,Y.plotWidth),l=M.kmeansThreshold||I.layoutAlgorithm.kmeansThreshold;var R=M.processedGridSize/2,G=H(w,{x:0,y:0}),F=H(w,{x:R,y:R});u=Math.abs(G.x-F.x),d=Math.abs(G.y-F.y);for(var Z=0;Z<z.length;Z++)!w.dataMaxX&&(b(c)&&b(p)&&b(m)&&b(f)?X(O[Z])&&X(m)&&X(f)&&(c=Math.max(z[Z],c),p=Math.min(z[Z],p),m=Math.max(O[Z]||m,m),f=Math.min(O[Z]||f,f)):(c=p=z[Z],m=f=O[Z])),z[Z]>=T.minX-u&&z[Z]<=T.maxX+u&&(O[Z]||T.minY)>=T.minY-d&&(O[Z]||T.maxY)<=T.maxY+d&&(V.push(z[Z]),j.push(O[Z]),E.push(Z));b(c)&&b(p)&&X(m)&&X(f)&&(w.dataMaxX=c,w.dataMinX=p,w.dataMaxY=m,w.dataMinY=f),x=(C=(A(v)?v:w.markerClusterAlgorithms?v&&w.markerClusterAlgorithms[v]?w.markerClusterAlgorithms[v]:V.length<l?w.markerClusterAlgorithms.kmeans:w.markerClusterAlgorithms.grid:function(){return!1}).call(this,V,j,E,M))?w.getClusteredData(C,D):C,D.animation&&(null===(i=null===(e=w.markerClusterInfo)||void 0===e?void 0:e.pointsState)||void 0===i?void 0:i.oldState)?(function(t){for(var e,i,r=0,o=Object.keys(t);r<o.length;r++)null===(i=null===(e=t[o[r]].point)||void 0===e?void 0:e.destroy)||void 0===i||i.call(e)}(w.markerClusterInfo.pointsState.oldState),n=w.markerClusterInfo.pointsState.newState):n={},a=z.length,s=w.markerClusterInfo,x&&(w.dataTable.modified=new y({columns:{x:x.groupedXData,y:x.groupedYData}}),w.hasGroupedData=!0,w.markerClusterInfo=x,w.groupMap=x.groupMap),h.apply(this),x&&w.markerClusterInfo&&(null===(r=w.markerClusterInfo.clusters)||void 0===r||r.forEach(function(t){(S=w.points[t.index]).isCluster=!0,S.clusteredData=t.data,S.clusterPointsAmount=t.data.length,t.point=S,k(S,"click",q)}),null===(o=w.markerClusterInfo.noise)||void 0===o||o.forEach(function(t){t.point=w.points[t.index]}),D.animation&&w.markerClusterInfo&&(w.markerClusterInfo.pointsState={oldState:n,newState:w.getPointsState(x,s,a)}),D.animation?this.hideClusteredData():this.destroyClusteredData(),this.markerClusterSeriesData=this.hasGroupedData?this.points:null)}else h.apply(this)}function U(t,e,i){for(var r=[],o=0;o<t.length;o++){var n=tr(this,{x:e,y:i}),a=tr(this,{x:t[o].posX,y:t[o].posY}),s=Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2));r.push({clusterIndex:o,distance:s})}return r.sort(function(t,e){return t.distance-e.distance})}function _(t,e){var i,r,o,n,a,s,l,u,d,p,h,c,f=this.options.data,m=[],v=[],g=[],x=[],y=[],C=Math.max(2,e.minimumClusterSize||2),k=0;if(A(e.layoutAlgorithm.type)&&!this.isValidGroupedDataObject(t))return M("Highcharts marker-clusters module: The custom algorithm result is not valid!",!1,this.chart),!1;for(var b in t)if(t[b].length>=C){if(o=t[b],i=F(),a=o.length,e.zones)for(var X=0;X<e.zones.length;X++)a>=e.zones[X].from&&a<=e.zones[X].to&&((h=e.zones[X]).zoneIndex=X,p=e.zones[X].marker,c=e.zones[X].className);d=R(o),"grid"!==e.layoutAlgorithm.type||e.allowOverlap?l={x:d.x,y:d.y}:(s=this.options.marker||{},l=this.preventClusterCollisions({x:d.x,y:d.y,key:b,groupedData:t,gridSize:this.getScaledGridSize(e.layoutAlgorithm),defaultRadius:s.radius||3+(s.lineWidth||0),clusterRadius:p&&p.radius?p.radius:(e.marker||{}).radius||I.marker.radius}));for(var X=0;X<a;X++)o[X].parentStateId=i;if(g.push({x:l.x,y:l.y,id:b,stateId:i,index:k,data:o,clusterZone:h,clusterZoneClassName:c}),m.push(l.x),v.push(l.y),y.push({options:{formatPrefix:"cluster",dataLabels:e.dataLabels,marker:Y(e.marker,{states:e.states},p||{})}}),null==f?void 0:f.length)for(var X=0;X<a;X++)w(f[o[X].dataIndex])&&(o[X].options=f[o[X].dataIndex]);k++,p=null}else for(var X=0;X<t[b].length;X++)r=t[b][X],i=F(),u=null,n=null==f?void 0:f[r.dataIndex],m.push(r.x),v.push(r.y),r.parentStateId=i,x.push({x:r.x,y:r.y,id:b,stateId:i,index:k,data:t[b]}),u=n&&"object"==typeof n&&!S(n)?Y(n,{x:r.x,y:r.y}):{userOptions:n,x:r.x,y:r.y},y.push({options:u}),k++;return{clusters:g,noise:x,groupedXData:m,groupedYData:v,groupMap:y}}function K(){var t=this.chart,e=this.xAxis,i=this.yAxis,r=0,o=0;return{plotLeft:r=e&&this.dataMinX&&this.dataMaxX?e.reversed?e.toPixels(this.dataMaxX):e.toPixels(this.dataMinX):t.plotLeft,plotTop:i&&this.dataMinY&&this.dataMaxY?i.reversed?i.toPixels(this.dataMinY):i.toPixels(this.dataMaxY):t.plotTop}}function J(t,e,i){var r,o,n,a=e?G(e,i):[],s=G(t,i),l={};D=[],t.clusters.forEach(function(t){l[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}}),t.noise.forEach(function(t){l[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}});for(var u=0;u<s.length;u++)o=s[u],n=a[u],(null==o?void 0:o.parentStateId)&&(null==n?void 0:n.parentStateId)&&(null===(r=l[o.parentStateId])||void 0===r?void 0:r.parentsId.indexOf(n.parentStateId))===-1&&(l[o.parentStateId].parentsId.push(n.parentStateId),-1===D.indexOf(n.parentStateId)&&D.push(n.parentStateId));return l}function Q(){var t=this.chart,e=t.mapView?0:t.plotLeft,i=H(this,{x:e,y:t.mapView?0:t.plotTop}),r=H(this,{x:e+t.plotWidth,y:e+t.plotHeight}),o=i.x,n=r.x,a=i.y,s=r.y;return{minX:Math.min(o,n),maxX:Math.max(o,n),minY:Math.min(a,s),maxY:Math.max(a,s)}}function $(t){var e=this.xAxis,i=this.chart.mapView,r=t.processedGridSize||I.layoutAlgorithm.gridSize,o=!0,n=1,a=1;this.gridValueSize||(i?this.gridValueSize=r/i.getScale():this.gridValueSize=Math.abs(e.toValue(r)-e.toValue(0)));for(var s=+(r/(i?this.gridValueSize*i.getScale():e.toPixels(this.gridValueSize)-e.toPixels(0))).toFixed(14);o&&1!==s;){var l=Math.pow(2,n);s>.75&&s<1.25?o=!1:s>=1/l&&s<1/l*2?(o=!1,a=l):s<=l&&s>l/2&&(o=!1,a=1/l),n++}return r/a/s}function tt(){var t,e,i=this.markerClusterSeriesData,r=null===(e=null===(t=this.markerClusterInfo)||void 0===t?void 0:t.pointsState)||void 0===e?void 0:e.oldState,o=D.map(function(t){var e;return(null===(e=null==r?void 0:r[t].point)||void 0===e?void 0:e.id)||""});null==i||i.forEach(function(t){var e;t&&-1!==o.indexOf(t.id)?(t.graphic&&t.graphic.hide(),t.dataLabel&&t.dataLabel.hide()):null===(e=null==t?void 0:t.destroy)||void 0===e||e.call(t)})}function te(t){var e=!1;return!!w(t)&&(P(t,function(t){if(e=!0,!S(t)||!t.length){e=!1;return}for(var i=0;i<t.length;i++)if(!w(t[i])||!t[i].x||!t[i].y){e=!1;return}}),e)}function ti(t){var e,i,r,o,n,a,s,l,u,d,p,h,c,f,m,v,g=t.key.split(":").map(parseFloat),x=g[0],y=g[1],C=t.gridSize,k=t.groupedData,M=t.defaultRadius,S=t.clusterRadius,A=y*C,w=x*C,X=tr(this,t),Y=[],P=null===(i=this.options.cluster)||void 0===i?void 0:i.marker,L=null===(r=this.options.cluster)||void 0===r?void 0:r.zones,z=this.getGridOffset(),O=X.x,D=X.y,T=0,V=0;O-=z.plotLeft,D-=z.plotTop;for(var j=1;j<5;j++)for(p=0,s=j%2?-1:1,l=j<3?-1:1,u=Math.floor((O+s*S)/C),v=[(d=Math.floor((D+l*S)/C))+":"+u,d+":"+y,x+":"+u];p<v.length;p++)-1===Y.indexOf(v[p])&&v[p]!==t.key&&Y.push(v[p]);for(var E=0;E<Y.length;E++){var G=Y[E];if(k[G]){k[G].posX||(f=R(k[G]),k[G].posX=f.x,k[G].posY=f.y);var F=tr(this,{x:k[G].posX||0,y:k[G].posY||0});if(n=F.x-z.plotLeft,a=F.y-z.plotTop,c=(e=G.split(":").map(parseFloat))[0],h=e[1],L){T=k[G].length;for(var j=0;j<L.length;j++)T>=L[j].from&&T<=L[j].to&&(V=b(null===(o=L[j].marker)||void 0===o?void 0:o.radius)?L[j].marker.radius||0:(null==P?void 0:P.radius)?P.radius:I.marker.radius)}k[G].length>1&&0===V&&(null==P?void 0:P.radius)?V=P.radius:1===k[G].length&&(V=M),m=S+V,V=0,h!==y&&Math.abs(O-n)<m&&(O=h-y<0?A+S:A+C-S),c!==x&&Math.abs(D-a)<m&&(D=c-x<0?w+S:w+C-S)}}var Z=H(this,{x:O+z.plotLeft,y:D+z.plotTop});return k[t.key].posX=Z.x,k[t.key].posY=Z.y,Z}function tr(t,e){var i=t.chart,r=t.xAxis,o=t.yAxis;return i.mapView?i.mapView.projectedUnitsToPixels(e):{x:r?r.toPixels(e.x):0,y:o?o.toPixels(e.y):0}}var to={compose:function(t,e){var i=e.prototype;!i.markerClusterAlgorithms&&(h=i.generatePoints,i.markerClusterAlgorithms=O,i.animateClusterPoint=W,i.destroyClusteredData=N,i.generatePoints=B,i.getClusterDistancesFromPoint=U,i.getClusteredData=_,i.getGridOffset=K,i.getPointsState=J,i.getRealExtremes=Q,i.getScaledGridSize=$,i.hideClusteredData=tt,i.isValidGroupedDataObject=te,i.preventClusterCollisions=ti,k(e,"destroy",i.destroyClusteredData),t.plotOptions&&(t.plotOptions.series=Y(t.plotOptions.series,l)))}},tn=s().animObject,ta=s().defaultOptions,ts=s().composed,tl=s().addEvent,tu=s().defined,td=s().error,tp=s().isFunction,th=s().merge,tc=s().pushUnique,tf=s().syncTimeout;function tm(){for(var t=this.chart,e=0,i=0,r=t.series;i<r.length;i++){var o=r[i];o.markerClusterInfo&&(e=tn((o.options.cluster||{}).animation).duration||0)}tf(function(){t.tooltip&&t.tooltip.destroy()},e)}function tv(){for(var t,e=0,i=this.series||[];e<i.length;e++){var r=i[e];if(r.markerClusterInfo){var o=r.options.cluster,n=((r.markerClusterInfo||{}).pointsState||{}).oldState;if((o||{}).animation&&r.markerClusterInfo&&0===((null===(t=r.chart.pointer)||void 0===t?void 0:t.pinchDown)||[]).length&&"pan"!==((r.xAxis||{}).eventArgs||{}).trigger&&n&&Object.keys(n).length){for(var a=0,s=r.markerClusterInfo.clusters;a<s.length;a++){var l=s[a];r.animateClusterPoint(l)}for(var u=0,d=r.markerClusterInfo.noise;u<d.length;u++){var p=d[u];r.animateClusterPoint(p)}}}}}function tg(t){var e=(((t.point||t.target).series.options.cluster||{}).events||{}).drillToCluster;tp(e)&&e.call(this,t)}function tx(){if(this.dataGroup)return td("Highcharts marker-clusters module: Running `Point.update` when point belongs to clustered series is not supported.",!1,this.series.chart),!1}function ty(){var t=(this.options.cluster||{}).drillToCluster;if(this.markerClusterInfo&&this.markerClusterInfo.clusters)for(var e=0,i=this.markerClusterInfo.clusters;e<i.length;e++){var r=i[e];r.point&&r.point.graphic&&(r.point.graphic.addClass("highcharts-cluster-point"),t&&r.point&&(r.point.graphic.css({cursor:"pointer"}),r.point.dataLabel&&r.point.dataLabel.css({cursor:"pointer"})),tu(r.clusterZone)&&r.point.graphic.addClass(r.clusterZoneClassName||"highcharts-cluster-zone-"+r.clusterZone.zoneIndex))}}function tC(t,i,r,o){var n=r/2,a=o/2,s=e.arc(t+n,i+a,n-4,a-4,{start:.5*Math.PI,end:2.5*Math.PI,open:!1}),l=e.arc(t+n,i+a,n-3,a-3,{start:.5*Math.PI,end:2.5*Math.PI,innerR:n-2,open:!1});return e.arc(t+n,i+a,n-1,a-1,{start:.5*Math.PI,end:2.5*Math.PI,innerR:n,open:!1}).concat(l,s)}(ta.plotOptions||{}).series=th((ta.plotOptions||{}).series,l);var tI=s();({compose:function(t,e,i,r){if(tc(ts,"MarkerClusters")){var o=r.prototype.pointClass,n=r.types.scatter;tl(t,"setExtremes",tm),tl(e,"render",tv),tl(o,"drillToCluster",tg),tl(o,"update",tx),tl(r,"afterRender",ty),n&&to.compose(i,n)}}}).compose(tI.Axis,tI.Chart,tI.defaultOptions,tI.Series),({compose:function(t){(e=t.prototype.symbols).cluster=tC}}).compose(tI.SVGRenderer);var tk=s();return n.default}()});