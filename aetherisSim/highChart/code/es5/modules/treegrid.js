!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("highcharts"),require("highcharts").StackItem,require("highcharts").Axis,require("highcharts").Color):"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",[["highcharts/highcharts"],["highcharts/highcharts","StackItem"],["highcharts/highcharts","Axis"],["highcharts/highcharts","Color"]],i):"object"==typeof exports?exports["highcharts/modules/treegrid"]=i(require("highcharts"),require("highcharts").StackItem,require("highcharts").Axis,require("highcharts").Color):t.Highcharts=i(t.Highcharts,t.Highcharts.StackItem,t.Highcharts.Axis,t.Highcharts.Color)}(this,function(t,i,e,r){return function(){"use strict";var o,s,n,a,l={184:function(t){t.exports=i},532:function(t){t.exports=e},620:function(t){t.exports=r},944:function(i){i.exports=t}},d={};function h(t){var i=d[t];if(void 0!==i)return i.exports;var e=d[t]={exports:{}};return l[t](e,e.exports,h),e.exports}h.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return h.d(i,{a:i}),i},h.d=function(t,i){for(var e in i)h.o(i,e)&&!h.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},h.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)};var c={};h.d(c,{default:function(){return tX}});var u=h(944),p=h.n(u),f=h(184),v=h.n(f),g=p().addEvent,m=p().find,k=p().fireEvent,x=p().isArray,b=p().isNumber,y=p().pick;!function(t){function i(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function e(){var t;(null===(t=this.brokenAxis)||void 0===t?void 0:t.hasBreaks)&&(this.options.ordinal=!1)}function r(){var t=this.brokenAxis;if(null==t?void 0:t.hasBreaks){for(var i=this.tickPositions,e=this.tickPositions.info,r=[],o=0;o<i.length;o++)t.isInAnyBreak(i[o])||r.push(i[o]);this.tickPositions=r,this.tickPositions.info=e}}function o(){this.brokenAxis||(this.brokenAxis=new d(this))}function s(){var t,i,e=this.isDirty,r=this.options.connectNulls,o=this.points,s=this.xAxis,n=this.yAxis;if(e)for(var a=o.length;a--;){var l=o[a],d=(null!==l.y||!1!==r)&&((null===(t=null==s?void 0:s.brokenAxis)||void 0===t?void 0:t.isInAnyBreak(l.x,!0))||(null===(i=null==n?void 0:n.brokenAxis)||void 0===i?void 0:i.isInAnyBreak(l.y,!0)));l.visible=!d&&!1!==l.options.visible}}function n(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,y(this.pointArrayMap,["y"]))}function a(t,i){var e,r,o,s,n=this,a=n.points;if(null===(e=null==t?void 0:t.brokenAxis)||void 0===e?void 0:e.hasBreaks){var l=t.brokenAxis;i.forEach(function(i){r=(null==l?void 0:l.breakArray)||[],o=t.isXAxis?t.min:y(n.options.threshold,t.min);var e,d,h=null===(d=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.breaks)||void 0===d?void 0:d.filter(function(t){for(var i=!0,e=0;e<r.length;e++){var o=r[e];if(o.from===t.from&&o.to===t.to){i=!1;break}}return i});a.forEach(function(e){s=y(e["stack"+i.toUpperCase()],e[i]),r.forEach(function(i){if(b(o)&&b(s)){var r="";o<i.from&&s>i.to||o>i.from&&s<i.from?r="pointBreak":(o<i.from&&s>i.from&&s<i.to||o>i.from&&s>i.to&&s<i.from)&&(r="pointInBreak"),r&&k(t,r,{point:e,brk:i})}}),null==h||h.forEach(function(i){k(t,"pointOutsideOfBreak",{point:e,brk:i})})})})}}function l(){var t=this.currentDataGrouping,i=null==t?void 0:t.gapSize,e=this.points.slice(),r=this.yAxis,o=this.options.gapSize,s=e.length-1;if(o&&s>0){"value"!==this.options.gapUnit&&(o*=this.basePointRange),i&&i>o&&i>=this.basePointRange&&(o=i);for(var n=void 0,a=void 0;s--;)if(a&&!1!==a.visible||(a=e[s+1]),n=e[s],!1!==a.visible&&!1!==n.visible){if(a.x-n.x>o){var l=(n.x+a.x)/2;e.splice(s+1,0,{isNull:!0,x:l}),r.stacking&&this.options.stacking&&((r.stacking.stacks[this.stackKey][l]=new(v())(r,r.options.stackLabels,!1,l,this.stack)).total=0)}a=n}}return this.getGraphPath(e)}t.compose=function(t,d){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),g(t,"init",o),g(t,"afterInit",i),g(t,"afterSetTickPositions",r),g(t,"afterSetOptions",e);var h=d.prototype;h.drawBreaks=a,h.gappedPath=l,g(d,"afterGeneratePoints",s),g(d,"afterRender",n)}return t};var d=function(){function t(t){this.hasBreaks=!1,this.axis=t}return t.isInBreak=function(t,i){var e,r=t.repeat||1/0,o=t.from,s=t.to-t.from,n=i>=o?(i-o)%r:r-(o-i)%r;return t.inclusive?n<=s:n<s&&0!==n},t.lin2Val=function(i){var e=this.brokenAxis,r=null==e?void 0:e.breakArray;if(!r||!b(i))return i;var o,s,n=i;for(s=0;s<r.length&&!((o=r[s]).from>=n);s++)o.to<n?n+=o.len:t.isInBreak(o,n)&&(n+=o.len);return n},t.val2Lin=function(i){var e=this.brokenAxis,r=null==e?void 0:e.breakArray;if(!r||!b(i))return i;var o,s,n=i;for(s=0;s<r.length;s++)if((o=r[s]).to<=i)n-=o.len;else if(o.from>=i)break;else if(t.isInBreak(o,i)){n-=i-o.from;break}return n},t.prototype.findBreakAt=function(t,i){return m(i,function(i){return i.from<t&&t<i.to})},t.prototype.isInAnyBreak=function(i,e){var r,o,s,n=this.axis,a=n.options.breaks||[],l=a.length;if(l&&b(i)){for(;l--;)t.isInBreak(a[l],i)&&(r=!0,o||(o=y(a[l].showPoints,!n.isXAxis)));s=r&&e?r&&!o:r}return s},t.prototype.setBreaks=function(i,e){var r=this,o=r.axis,s=o.chart.time,n=x(i)&&!!i.length&&!!Object.keys(i[0]).length;o.isDirty=r.hasBreaks!==n,r.hasBreaks=n,null==i||i.forEach(function(t){t.from=s.parse(t.from)||0,t.to=s.parse(t.to)||0}),i!==o.options.breaks&&(o.options.breaks=o.userOptions.breaks=i),o.forceRedraw=!0,o.series.forEach(function(t){t.isDirty=!0}),n||o.val2lin!==t.val2Lin||(delete o.val2lin,delete o.lin2val),n&&(o.userOptions.ordinal=!1,o.lin2val=t.lin2Val,o.val2lin=t.val2Lin,o.setExtremes=function(t,i,e,s,n){if(r.hasBreaks){for(var a=this.options.breaks||[],l=void 0;l=r.findBreakAt(t,a);)t=l.to;for(;l=r.findBreakAt(i,a);)i=l.from;i<t&&(i=t)}o.constructor.prototype.setExtremes.call(this,t,i,e,s,n)},o.setAxisTranslation=function(){if(o.constructor.prototype.setAxisTranslation.call(this),r.unitLength=void 0,r.hasBreaks){var i,e,s,n,a=o.options.breaks||[],l=[],d=[],h=y(o.pointRangePadding,0),c=0,u=o.userMin||o.min,p=o.userMax||o.max;a.forEach(function(i){e=i.repeat||1/0,b(u)&&b(p)&&(t.isInBreak(i,u)&&(u+=i.to%e-u%e),t.isInBreak(i,p)&&(p-=p%e-i.from%e))}),a.forEach(function(t){if(s=t.from,e=t.repeat||1/0,b(u)&&b(p)){for(;s-e>u;)s-=e;for(;s<u;)s+=e;for(n=s;n<p;n+=e)l.push({value:n,move:"in"}),l.push({value:n+t.to-t.from,move:"out",size:t.breakSize})}}),l.sort(function(t,i){return t.value===i.value?+("in"!==t.move)-+("in"!==i.move):t.value-i.value}),i=0,s=u,l.forEach(function(t){1===(i+="in"===t.move?1:-1)&&"in"===t.move&&(s=t.value),0===i&&b(s)&&(d.push({from:s,to:t.value,len:t.value-s-(t.size||0)}),c+=t.value-s-(t.size||0))}),r.breakArray=d,b(u)&&b(p)&&b(o.min)&&(r.unitLength=p-u-c+h,k(o,"afterBreaks"),o.staticScale?o.transA=o.staticScale:r.unitLength&&(o.transA*=(p-o.min+h)/r.unitLength),h&&(o.minPixelPadding=o.transA*(o.minPointOffset||0)),o.min=u,o.max=p)}}),y(e,!0)&&o.chart.redraw()},t}();t.Additions=d}(s||(s={}));var P=s,A=h(532),G=h.n(A),O=p().dateFormats,B=p().addEvent,w=p().defined,E=p().erase,T=p().find,N=p().isArray,I=p().isNumber,L=p().merge,C=p().pick,S=p().timeUnits,M=p().wrap;function W(t){return p().isObject(t,!0)}function z(t,i){var e={width:0,height:0};if(i.forEach(function(i){var r,o=t[i],s=0,n=0;W(o)&&(s=(r=W(o.label)?o.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!I(r.textPxLength)&&(r.textPxLength=r.getBBox().width),n=I(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(n=Math.round(r.getBBox().width)),e.height=Math.max(s,e.height),e.width=Math.max(n,e.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var r=this.treeGrid.mapOfPosToGridNode[-1].height||0;e.width+=this.options.labels.indentation*(r-1)}return e}function j(t){var i=this.grid,e=3===this.side;if(e||t.apply(this),!(null==i?void 0:i.isColumn)){var r=(null==i?void 0:i.columns)||[];e&&(r=r.slice().reverse()),r.forEach(function(t){t.getOffset()})}e&&t.apply(this)}function R(t){if(!0===(this.options.grid||{}).enabled){var i=this.axisTitle,e=this.height,r=this.horiz,o=this.left,s=this.offset,a=this.opposite,l=this.options,d=this.top,h=this.width,c=this.tickSize(),u=null==i?void 0:i.getBBox().width,p=l.title.x,f=l.title.y,v=C(l.title.margin,r?5:10),g=i?this.chart.renderer.fontMetrics(i).f:0,m=(r?d+e:o)+(r?1:-1)*(a?-1:1)*(c?c[0]/2:0)+(this.side===n.bottom?g:0);t.titlePosition.x=r?o-(u||0)/2-v+p:m+(a?h:0)+s+p,t.titlePosition.y=r?m-(a?e:0)+(a?g:-g)/2+s+f:d-v+f}}function D(){var t,i=this.chart,e=this.options.grid,r=void 0===e?{}:e,o=this.userOptions;if(r.enabled&&((t=this.options).labels.align=C(t.labels.align,"center"),this.categories||(t.showLastLabel=!1),this.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1),r.columns)for(var s=this.grid.columns=[],n=this.grid.columnIndex=0;++n<r.columns.length;){var a=L(o,r.columns[n],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),l=new(G())(this.chart,a,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=n,E(i.axes,l),E(i[this.coll]||[],l),s.push(l)}}function q(){var t,i,e=this.axisTitle,r=this.grid,o=this.options;if(!0===(o.grid||{}).enabled){var s=this.min||0,a=this.max||0,l=this.ticks[this.tickPositions[0]];if(e&&!this.chart.styledMode&&(null==l?void 0:l.slotWidth)&&!this.options.title.style.width&&e.css({width:""+l.slotWidth+"px"}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),(null===(t=this.grid)||void 0===t?void 0:t.isOuterAxis())&&this.axisLine){var d=o.lineWidth;if(d){var h=this.getLinePath(d),c=h[0],u=h[1],p=(this.tickSize("tick")||[1])[0]*(this.side===n.top||this.side===n.left?-1:1);if("M"===c[0]&&"L"===u[0]&&(this.horiz?(c[2]+=p,u[2]+=p):(c[1]+=p,u[1]+=p)),!this.horiz&&this.chart.marginRight){var f=["L",this.left,c[2]||0],v=[c,f],g=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],m=[["M",u[1]||0,this.toPixels(a+this.tickmarkOffset)],g];this.grid.upperBorder||s%1==0||(this.grid.upperBorder=this.grid.renderBorder(v)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.upperBorder.animate({d:v})),this.grid.lowerBorder||a%1==0||(this.grid.lowerBorder=this.grid.renderBorder(m)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.lowerBorder.animate({d:m}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.axisLineExtra.animate({d:h})):this.grid.axisLineExtra=this.grid.renderBorder(h),this.axisLine[this.showAxis?"show":"hide"]()}}if(((null==r?void 0:r.columns)||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||(null===(i=this.linkedParent)||void 0===i?void 0:i.scrollbar))&&this.tickPositions.length){for(var k=this.tickmarkOffset,x=this.tickPositions[this.tickPositions.length-1],b=this.tickPositions[0],y=void 0,P=void 0;(y=this.hiddenLabels.pop())&&y.element;)y.show();for(;(P=this.hiddenMarks.pop())&&P.element;)P.show();(y=this.ticks[b].label)&&(s-b>k?this.hiddenLabels.push(y.hide()):y.show()),(y=this.ticks[x].label)&&(x-a>k?this.hiddenLabels.push(y.hide()):y.show());var A=this.ticks[x].mark;A&&x-a<k&&x-a>0&&this.ticks[x].isLast&&this.hiddenMarks.push(A.hide())}}}function H(){var t,i=null===(t=this.tickPositions)||void 0===t?void 0:t.info,e=this.options,r=e.grid||{},o=this.userOptions.labels||{};r.enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),i&&e.dateTimeLabelFormats&&e.labels&&!w(o.align)&&(!1===e.dateTimeLabelFormats[i.unitName].range||i.count>1)&&(e.labels.align="left",w(o.x)||(e.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function F(t){var i,e=this.options,r=t.userOptions,o=e&&W(e.grid)?e.grid:{};!0===o.enabled&&(i=L(!0,{className:"highcharts-grid-axis "+(r.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},r),"xAxis"!==this.coll||(w(r.linkedTo)&&!w(r.tickPixelInterval)&&(i.tickPixelInterval=350),!(!w(r.tickPixelInterval)&&w(r.linkedTo))||w(r.tickPositioner)||w(r.tickInterval)||w(r.units)||(i.tickPositioner=function(t,e){var r,o,s=null===(o=null===(r=this.linkedParent)||void 0===r?void 0:r.tickPositions)||void 0===o?void 0:o.info;if(s){for(var n=i.units||[],a=void 0,l=1,d="year",h=0;h<n.length;h++){var c=n[h];if(c&&c[0]===s.unitName){a=h;break}}var u=I(a)&&n[a+1];if(u){d=u[0]||"year";var p=u[1];l=(null==p?void 0:p[0])||1}else"year"===s.unitName&&(l=10*s.count);var f=S[d];return this.tickInterval=f*l,this.chart.time.getTimeTicks({unitRange:f,count:l,unitName:d},t,e,this.options.startOfWeek)}})),L(!0,this.options,i),this.horiz&&(e.minPadding=C(r.minPadding,0),e.maxPadding=C(r.maxPadding,0)),I(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=o.borderWidth))}function X(t){var i=t.userOptions,e=(null==i?void 0:i.grid)||{},r=e.columns;e.enabled&&r&&L(!0,this.options,r[0])}function U(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function V(t){var i=this.horiz,e=this.maxLabelDimensions,r=this.options.grid,o=void 0===r?{}:r;if(o.enabled&&e){var s=2*this.options.labels.distance,n=i?o.cellHeight||s+e.height:s+e.width;N(t.tickSize)?t.tickSize[0]=n:t.tickSize=[n,0]}}function _(){this.axes.forEach(function(t){var i;((null===(i=t.grid)||void 0===i?void 0:i.columns)||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function K(t){var i=this.grid;(i.columns||[]).forEach(function(i){return i.destroy(t.keepEvents)}),i.columns=void 0}function Y(t){var i=t.userOptions||{},e=i.grid||{};e.enabled&&w(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),this.grid||(this.grid=new tt(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function J(t){var i=this.label,e=this.axis,r=e.reversed,o=e.chart,s=e.options.grid||{},a=e.options.labels,l=a.align,d=n[e.side],h=t.tickmarkOffset,c=e.tickPositions,u=this.pos-h,p=I(c[t.index+1])?c[t.index+1]-h:(e.max||0)+h,f=e.tickSize("tick"),v=f?f[0]:0,g=f?f[1]/2:0;if(!0===s.enabled){var m,k=void 0,x=void 0,b=void 0;if("top"===d?m=(k=e.top+e.offset)-v:"bottom"===d?k=(m=o.chartHeight-e.bottom+e.offset)+v:(k=e.top+e.len-(e.translate(r?p:u)||0),m=e.top+e.len-(e.translate(r?u:p)||0)),"right"===d?b=(x=o.chartWidth-e.right+e.offset)+v:"left"===d?x=(b=e.left+e.offset)-v:(x=Math.round(e.left+(e.translate(r?p:u)||0))-g,b=Math.min(Math.round(e.left+(e.translate(r?u:p)||0))-g,e.left+e.len)),this.slotWidth=b-x,t.pos.x="left"===l?x:"right"===l?b:x+(b-x)/2,t.pos.y=m+(k-m)/2,i){var y=o.renderer.fontMetrics(i),P=i.getBBox().height;if(a.useHTML)t.pos.y+=y.b+-(P/2);else{var A=Math.round(P/y.h);t.pos.y+=(y.b-(y.h-y.f))/2+-((A-1)*y.h/2)}}t.pos.x+=e.horiz&&a.x||0}}function Q(t){var i,e=t.axis,r=t.value;if(null===(i=e.options.grid)||void 0===i?void 0:i.enabled){var o=e.tickPositions,s=(e.linkedParent||e).series[0],n=r===o[0],a=r===o[o.length-1],l=s&&T(s.options.data,function(t){return t[e.isXAxis?"x":"y"]===r}),d=void 0;l&&s.is("gantt")&&(d=L(l),p().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(d,e.chart)),t.isFirst=n,t.isLast=a,t.point=d}}function Z(){var t,i,e=this.options,r=e.grid||{},o=this.categories,s=this.tickPositions,n=s[0],a=s[1],l=s[s.length-1],d=s[s.length-2],h=null===(t=this.linkedParent)||void 0===t?void 0:t.min,c=null===(i=this.linkedParent)||void 0===i?void 0:i.max,u=h||this.min,p=c||this.max,f=this.tickInterval,v=I(u)&&u>=n+f&&u<a,g=I(u)&&n<u&&n+f>u,m=I(p)&&l>p&&l-f<p,k=I(p)&&p<=l-f&&p>d;!0===r.enabled&&!o&&(this.isXAxis||this.isLinked)&&((g||v)&&!e.startOnTick&&(s[0]=u),(m||k)&&!e.endOnTick&&(s[s.length-1]=p))}function $(t){var i,e=this.options.grid;return!0===(void 0===e?{}:e).enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}(o=n||(n={}))[o.top=0]="top",o[o.right=1]="right",o[o.bottom=2]="bottom",o[o.left=3]="left";var tt=function(){function t(t){this.axis=t}return t.prototype.isOuterAxis=function(){var t,i=this.axis,e=i.chart,r=i.grid.columnIndex,o=(null===(t=i.linkedParent)||void 0===t?void 0:t.grid.columns)||i.grid.columns||[],s=r?i.linkedParent:i,n=-1,a=0;return 3===i.side&&!e.inverted&&o.length?!i.linkedParent:((e[i.coll]||[]).forEach(function(t,e){t.side!==i.side||t.options.isInternal||(a=e,t!==s||(n=e))}),a===n&&(!I(r)||o.length===r))},t.prototype.renderBorder=function(t){var i=this.axis,e=i.chart.renderer,r=i.options,o=e.path(t).addClass("highcharts-axis-line").add(i.axisGroup);return e.styledMode||o.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),o},t}();O.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},O.W=function(t){var i=this.toParts(t),e=(i[7]+6)%7,r=i.slice(0);r[2]=i[2]-e+3;var o=this.toParts(this.makeTime(r[0],0,1));return 4!==o[7]&&(i[1]=0,i[2]=1+(11-o[7])%7),(1+Math.floor((this.makeTime(r[0],r[1],r[2])-this.makeTime(o[0],o[1],o[2]))/6048e5)).toString()};var ti=function(t,i){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>i.indexOf(r)&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)0>i.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},te=p().extend,tr=p().isNumber,to=p().pick;function ts(t,i,e,r,o,s){var n,a,l=s&&s.after,d=s&&s.before,h={data:r,depth:e-1,id:t,level:e,parent:i||""},c=0,u=0;"function"==typeof d&&d(h,s);var p=(o[t]||[]).map(function(i){var r=ts(i.id,t,e+1,i,o,s),l=i.start||NaN,d=!0===i.milestone?l:i.end||NaN;return n=!tr(n)||l<n?l:n,a=!tr(a)||d>a?d:a,c=c+1+r.descendants,u=Math.max(r.height+1,u),r});return r&&(r.start=to(r.start,n),r.end=to(r.end,a)),te(h,{children:p,descendants:c,height:u}),"function"==typeof l&&l(h,s),h}var tn={getNode:ts,getTree:function(t,i){var e,r;return ts("",null,1,null,(e=[],Object.keys(r=t.reduce(function(t,i){var r=i.parent,o=void 0===r?"":r,s=i.id;return void 0===t[o]&&(t[o]=[]),t[o].push(i),s&&e.push(s),t},{})).forEach(function(t){var i;if(""!==t&&-1===e.indexOf(t)){var o=r[t].map(function(t){return ti(t,[])});(i=r[""]).push.apply(i,o),delete r[t]}}),r),i)}},ta=p().addEvent,tl=p().removeEvent,td=p().isObject,th=p().isNumber,tc=p().pick,tu=p().wrap;function tp(){this.treeGrid||(this.treeGrid=new tg(this))}function tf(t,i,e,r,o,s,n,a,l){var d,h,c,u,p=tc(null===(d=this.options)||void 0===d?void 0:d.labels,s),f=this.pos,v=this.axis,g="treegrid"===v.type,m=t.apply(this,[i,e,r,o,p,n,a,l]);if(g){var k=p&&td(p.symbol,!0)?p.symbol:{},x=k.width,b=k.padding,y=void 0===b?5*!v.linkedParent:b,P=p&&th(p.indentation)?p.indentation:0;u=(null==(c=null==(h=v.treeGrid.mapOfPosToGridNode)?void 0:h[f])?void 0:c.depth)||1,m.x+=(void 0===x?0:x)+2*y+(u-1)*P}return m}function tv(t){var i,e,r,o,s,n,a,l,d,h,c,u,p,f,v,g=this.pos,m=this.axis,k=this.label,x=this.treeGrid,b=this.options,y=null==x?void 0:x.labelIcon,P=null==k?void 0:k.element,A=m.treeGrid,G=m.options,O=m.chart,B=m.tickPositions,w=A.mapOfPosToGridNode,E=tc(null==b?void 0:b.labels,null==G?void 0:G.labels),T=E&&td(E.symbol,!0)?E.symbol:{},N=null==w?void 0:w[g],I=N||{},L=I.descendants,C=I.depth,S=N&&L&&L>0,M="treegrid"===m.type&&P,W=B.indexOf(g)>-1,z="highcharts-treegrid-node-",j=z+"level-",R=O.styledMode;(M&&N&&k.removeClass(RegExp(j+".*")).addClass(j+C),t.apply(this,Array.prototype.slice.call(arguments,1)),M&&S)?(v=A.isCollapsed(N),i={color:!R&&k.styles.color||"",collapsed:v,group:k.parentGroup,options:T,renderer:k.renderer,show:W,xy:k.xy},o=!(r=this.treeGrid).labelIcon,s=i.renderer,n=i.xy,l=(a=i.options).width||0,d=a.height||0,h=5*(null!==(e=a.padding)&&void 0!==e?!e:!this.axis.linkedParent),c={x:n.x-l/2-h,y:n.y-d/2},u=i.collapsed?90:180,p=i.show&&th(c.y),(f=r.labelIcon)||(r.labelIcon=f=s.path(s.symbols[a.type](a.x||0,a.y||0,l,d)).addClass("highcharts-label-icon").add(i.group)),f[p?"show":"hide"](),s.styledMode||f.attr({cursor:"pointer",fill:tc(i.color,"#666666"),"stroke-width":1,stroke:a.lineColor,strokeWidth:a.lineWidth||0}),f[o?"attr":"animate"]({translateX:c.x,translateY:c.y,rotation:u}),k.addClass(z+(v?"collapsed":"expanded")).removeClass(z+(v?"expanded":"collapsed")),R||k.css({cursor:"pointer"}),[k,y].forEach(function(t){t&&!t.attachedTreeGridEvents&&(ta(t.element,"mouseover",function(){k.addClass("highcharts-treegrid-node-active"),k.renderer.styledMode||k.css({textDecoration:"underline"})}),ta(t.element,"mouseout",function(){var t;t=td(E.style)?E.style:{},k.removeClass("highcharts-treegrid-node-active"),k.renderer.styledMode||k.css({textDecoration:t.textDecoration||"none"})}),ta(t.element,"click",function(){x.toggleCollapse()}),t.attachedTreeGridEvents=!0)})):y&&(tl(P),null==k||k.css({cursor:"default"}),y.destroy())}var tg=function(){function t(t){this.tick=t}return t.compose=function(t){var i=t.prototype;i.toggleCollapse||(ta(t,"init",tp),tu(i,"getLabelPosition",tf),tu(i,"renderLabel",tv),i.collapse=function(t){this.treeGrid.collapse(t)},i.expand=function(t){this.treeGrid.expand(t)},i.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})},t.prototype.collapse=function(t){var i=this.tick,e=i.axis,r=e.brokenAxis;if(r&&e.treeGrid.mapOfPosToGridNode){var o=i.pos,s=e.treeGrid.mapOfPosToGridNode[o],n=e.treeGrid.collapse(s);r.setBreaks(n,tc(t,!0))}},t.prototype.destroy=function(){this.labelIcon&&this.labelIcon.destroy()},t.prototype.expand=function(t){var i=this.tick,e=i.pos,r=i.axis,o=r.treeGrid,s=r.brokenAxis,n=o.mapOfPosToGridNode;if(s&&n){var a=n[e],l=o.expand(a);s.setBreaks(l,tc(t,!0))}},t.prototype.toggleCollapse=function(t){var i=this.tick,e=i.axis,r=e.brokenAxis;if(r&&e.treeGrid.mapOfPosToGridNode){var o=i.pos,s=e.treeGrid.mapOfPosToGridNode[o],n=e.treeGrid.toggleCollapse(s);r.setBreaks(n,tc(t,!0))}},t}(),tm=h(620),tk=(p().extend,p().isArray),tx=p().isNumber,tb=p().isObject,ty=p().merge,tP=p().pick,tA=(p().relativeLength,function(t){var i,e,r,o,s,n,a={};if(tb(t))for(o=tx(t.from)?t.from:1,n=t.levels,e={},i=tb(t.defaults)?t.defaults:{},tk(n)&&(e=n.reduce(function(t,e){var r,s,n;return tb(e)&&tx(e.level)&&(s=tP((n=ty({},e)).levelIsConstant,i.levelIsConstant),delete n.levelIsConstant,delete n.level,tb(t[r=e.level+(s?0:o-1)])?ty(!0,t[r],n):t[r]=n),t},{})),s=tx(t.to)?t.to:1,r=0;r<=s;r++)a[r]=ty({},i,tb(e[r])?e[r]:{});return a}),tG=p().addEvent,tO=p().isArray,tB=p().splat,tw=p().find,tE=p().fireEvent,tT=p().isObject,tN=p().isString,tI=p().merge,tL=p().pick,tC=p().removeEvent,tS=p().wrap;function tM(t,i){var e=t.collapseEnd||0,r=t.collapseStart||0;return e>=i&&(r-=.5),{from:r,to:e,showPoints:!1}}function tW(t,i,e){var r,o,s=[],n=[],a={},l=i||!1,d={},h=-1,c=tn.getTree(t,{after:function(t){var i=d[t.pos],e=0,r=0;i.children.forEach(function(t){r+=(t.descendants||0)+1,e=Math.max((t.height||0)+1,e)}),i.descendants=r,i.height=e,i.collapsed&&n.push(i)},before:function(t){var i,e,r=tT(t.data,!0)?t.data:{},o=tN(r.name)?r.name:"",n=a[t.parent],c=tT(n,!0)?d[n.pos]:null;l&&tT(c,!0)&&(i=tw(c.children,function(t){return t.name===o}))?(e=i.pos,i.nodes.push(t)):e=h++,!d[e]&&(d[e]=i={depth:c?c.depth+1:0,name:o,id:r.id,nodes:[t],children:[],pos:e},-1!==e&&s.push(o),tT(c,!0)&&c.children.push(i)),tN(t.id)&&(a[t.id]=t),i&&!0===r.collapsed&&(i.collapsed=!0),t.pos=e}});return r=d,{categories:s,mapOfIdToNode:a,mapOfPosToGridNode:d=(o=function(t,i,r){var s=t.nodes,n=i+(-1===i?0:e-1),a=(n-i)/2,l=i+a;return s.forEach(function(t){var e=t.data;tT(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=l}),r[l]=t,t.pos=l,t.tickmarkOffset=a+.5,t.collapseStart=n+.5,t.children.forEach(function(t){o(t,n+1,r),n=(t.collapseEnd||0)-.5}),t.collapseEnd=n+.5,r})(r["-1"],-1,{}),collapsedNodes:n,tree:c}}function tz(t){var i=t.target;i.axes.filter(function(t){return"treegrid"===t.type}).forEach(function(e){var r,o,s,n=e.options||{},a=n.labels,l=e.uniqueNames,d=i.time.parse(n.max),h=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}),c=0;if(h){var u=[];if(o=e.series.reduce(function(t,e){var r=e.options.data||[],o=r[0],s=Array.isArray(o)&&!o.find(function(t){return"object"==typeof t});return u.push(s),e.visible&&(r.forEach(function(r){var o;(s||(null===(o=e.options.keys)||void 0===o?void 0:o.length))&&(r=e.pointClass.prototype.optionsToObject.call({series:e},r),e.pointClass.setGanttPointAliases(r,i)),tT(r,!0)&&(r.seriesIndex=c,t.push(r))}),!0===l&&c++),t},[]),d&&o.length<d)for(var p=o.length;p<=d;p++)o.push({name:p+"​"});e.categories=(s=tW(o,l||!1,!0===l?c:1)).categories,e.treeGrid.mapOfPosToGridNode=s.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=s.tree,e.series.forEach(function(t,i){var e=(t.options.data||[]).map(function(e){return(u[i]||tO(e)&&t.options.keys&&t.options.keys.length)&&o.forEach(function(t){var i=tB(e);i.indexOf(t.x||0)>=0&&i.indexOf(t.x2||0)>=0&&(e=t)}),tT(e,!0)?tI(e):e});t.visible&&t.setData(e,!1)}),e.treeGrid.mapOptionsToLevel=tA({defaults:a,from:1,levels:null==a?void 0:a.levels,to:null===(r=e.treeGrid.tree)||void 0===r?void 0:r.height}),"beforeRender"===t.type&&(e.treeGrid.collapsedNodes=s.collapsedNodes)}})}function tj(t,i){var e,r,o,s=this.treeGrid.mapOptionsToLevel||{},n="treegrid"===this.type,l=this.ticks,d=l[i];n&&this.treeGrid.mapOfPosToGridNode?((e=s[(o=this.treeGrid.mapOfPosToGridNode[i]).depth])&&(r={labels:e}),!d&&a?l[i]=d=new a(this,i,void 0,void 0,{category:o.name,tickmarkOffset:o.tickmarkOffset,options:r}):(d.parameters.category=o.name,d.options=r,d.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function tR(t,i,e,r){var o=this,s="treegrid"===e.type;o.treeGrid||(o.treeGrid=new tH(o)),s&&(tG(i,"beforeRender",tz),tG(i,"beforeRedraw",tz),tG(i,"addSeries",function(t){if(t.options.data){var i=tW(t.options.data,e.uniqueNames||!1,1);o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(i.collapsedNodes)}}),tG(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var i=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(i,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(function(i){return t.collapseStart!==i.collapseStart||t.collapseEnd!==i.collapseEnd})))})}),tG(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),e=tI({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},e,{reversed:!0})),t.apply(o,[i,e,r]),s&&(o.hasNames=!0,o.options.showLastLabel=!0)}function tD(t){var i,e,r,o,s,n=this.options,a=this.chart.time,l="number"==typeof n.linkedTo?null===(i=this.chart[this.coll])||void 0===i?void 0:i[n.linkedTo]:void 0;if("treegrid"===this.type){if(this.min=null!==(r=null!==(e=this.userMin)&&void 0!==e?e:a.parse(n.min))&&void 0!==r?r:this.dataMin,this.max=null!==(s=null!==(o=this.userMax)&&void 0!==o?o:a.parse(n.max))&&void 0!==s?s:this.dataMax,tE(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],l){var d=l.getExtremes();this.min=tL(d.min,d.dataMin),this.max=tL(d.max,d.dataMax),this.tickPositions=l.tickPositions}this.linkedParent=l}else t.apply(this,Array.prototype.slice.call(arguments,1))}function tq(t){var i=this;"treegrid"===this.type&&i.visible&&i.tickPositions.forEach(function(t){var e,r=i.ticks[t];(null===(e=r.label)||void 0===e?void 0:e.attachedTreeGridEvents)&&(tC(r.label.element),r.label.attachedTreeGridEvents=!1)}),t.apply(i,Array.prototype.slice.call(arguments,1))}var tH=function(){function t(t){this.axis=t}return t.compose=function(t,i,e,r){if(!t.keepProps.includes("treeGrid")){var o,s,n,l=t.prototype;t.keepProps.push("treeGrid"),tS(l,"generateTick",tj),tS(l,"init",tR),tS(l,"setTickInterval",tD),tS(l,"redraw",tq),l.utils={getNode:tn.getNode},a||(a=r)}return o=t,s=i,n=r,o.keepProps.includes("grid")||(o.keepProps.push("grid"),o.prototype.getMaxLabelDimensions=z,M(o.prototype,"unsquish",$),M(o.prototype,"getOffset",j),B(o,"init",Y),B(o,"afterGetTitlePosition",R),B(o,"afterInit",D),B(o,"afterRender",q),B(o,"afterSetAxisTranslation",H),B(o,"afterSetOptions",F),B(o,"afterSetOptions",X),B(o,"afterSetScale",U),B(o,"afterTickSize",V),B(o,"trimTicks",Z),B(o,"destroy",K),B(s,"afterSetChartSize",_),B(n,"afterGetLabelPosition",J),B(n,"labelFormat",Q)),P.compose(t,e),tg.compose(r),t},t.prototype.setCollapsedStatus=function(t){var i=this.axis,e=i.chart;i.series.forEach(function(i){var r=i.options.data;if(t.id&&r){var o=e.get(t.id),s=r[i.data.indexOf(o)];o&&s&&(o.collapsed=t.collapsed,s.collapsed=t.collapsed)}})},t.prototype.collapse=function(t){var i=this.axis,e=i.options.breaks||[],r=tM(t,i.max);return e.push(r),t.collapsed=!0,i.treeGrid.setCollapsedStatus(t),e},t.prototype.expand=function(t){var i=this.axis,e=i.options.breaks||[],r=tM(t,i.max);return t.collapsed=!1,i.treeGrid.setCollapsedStatus(t),e.reduce(function(t,i){return(i.to!==r.to||i.from!==r.from)&&t.push(i),t},[])},t.prototype.getTickPositions=function(){var t=this.axis,i=Math.floor(t.min/t.tickInterval)*t.tickInterval,e=Math.ceil(t.max/t.tickInterval)*t.tickInterval;return Object.keys(t.treeGrid.mapOfPosToGridNode||{}).reduce(function(r,o){var s,n=+o;return n>=i&&n<=e&&!(null===(s=t.brokenAxis)||void 0===s?void 0:s.isInAnyBreak(n))&&r.push(n),r},[])},t.prototype.isCollapsed=function(t){var i=this.axis,e=i.options.breaks||[],r=tM(t,i.max);return e.some(function(t){return t.from===r.from&&t.to===r.to})},t.prototype.toggleCollapse=function(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)},t}(),tF=p();tH.compose(tF.Axis,tF.Chart,tF.Series,tF.Tick);var tX=p();return c.default}()});