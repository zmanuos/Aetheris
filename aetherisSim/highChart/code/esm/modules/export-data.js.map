{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts JS v12.2.0 (2025-04-07)\n * @module highcharts/modules/export-data\n * @requires highcharts\n * @requires highcharts/modules/exporting\n *\n * Exporting module\n *\n * (c) 2010-2025 Torstein Honsi\n *\n * License: www.highcharts.com/license\n */\nimport * as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from \"../highcharts.js\";\nimport * as __WEBPACK_EXTERNAL_MODULE__exporting_src_js_3afc400f__ from \"./exporting.js\";\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/compat get default export */\n/******/ (() => {\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = (module) => {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t() => (module['default']) :\n/******/ \t\t\t() => (module);\n/******/ \t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\treturn getter;\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\n\n;// external [\"../highcharts.js\",\"default\"]\nconst external_highcharts_src_js_default_namespaceObject = __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__[\"default\"];\nvar external_highcharts_src_js_default_default = /*#__PURE__*/__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);\n;// ./code/es-modules/Extensions/DownloadURL.js\n/* *\n *\n *  (c) 2015-2025 Oystein Moseng\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Mixin for downloading content in the browser\n *\n * */\n\n/* *\n *\n *  Imports\n *\n * */\n\nconst { isSafari, win, win: { document: doc } } = (external_highcharts_src_js_default_default());\n/* *\n *\n *  Constants\n *\n * */\nconst domurl = win.URL || win.webkitURL || win;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Convert base64 dataURL to Blob if supported, otherwise returns undefined.\n * @private\n * @function Highcharts.dataURLtoBlob\n * @param {string} dataURL\n *        URL to convert\n * @return {string|undefined}\n *         Blob\n */\nfunction dataURLtoBlob(dataURL) {\n    const parts = dataURL\n        .replace(/filename=.*;/, '')\n        .match(/data:([^;]*)(;base64)?,([A-Z+\\d\\/]+)/i);\n    if (parts &&\n        parts.length > 3 &&\n        (win.atob) &&\n        win.ArrayBuffer &&\n        win.Uint8Array &&\n        win.Blob &&\n        (domurl.createObjectURL)) {\n        // Try to convert data URL to Blob\n        const binStr = win.atob(parts[3]), buf = new win.ArrayBuffer(binStr.length), binary = new win.Uint8Array(buf);\n        for (let i = 0; i < binary.length; ++i) {\n            binary[i] = binStr.charCodeAt(i);\n        }\n        return domurl\n            .createObjectURL(new win.Blob([binary], { 'type': parts[1] }));\n    }\n}\n/**\n * Download a data URL in the browser. Can also take a blob as first param.\n *\n * @private\n * @function Highcharts.downloadURL\n * @param {string|global.URL} dataURL\n *        The dataURL/Blob to download\n * @param {string} filename\n *        The name of the resulting file (w/extension)\n * @return {void}\n */\nfunction downloadURL(dataURL, filename) {\n    const nav = win.navigator, a = doc.createElement('a');\n    // IE specific blob implementation\n    // Don't use for normal dataURLs\n    if (typeof dataURL !== 'string' &&\n        !(dataURL instanceof String) &&\n        nav.msSaveOrOpenBlob) {\n        nav.msSaveOrOpenBlob(dataURL, filename);\n        return;\n    }\n    dataURL = '' + dataURL;\n    if (nav.userAgent.length > 1000 /* RegexLimits.shortLimit */) {\n        throw new Error('Input too long');\n    }\n    const // Some browsers have limitations for data URL lengths. Try to convert\n    // to Blob or fall back. Edge always needs that blob.\n    isOldEdgeBrowser = /Edge\\/\\d+/.test(nav.userAgent), \n    // Safari on iOS needs Blob in order to download PDF\n    safariBlob = (isSafari &&\n        typeof dataURL === 'string' &&\n        dataURL.indexOf('data:application/pdf') === 0);\n    if (safariBlob || isOldEdgeBrowser || dataURL.length > 2000000) {\n        dataURL = dataURLtoBlob(dataURL) || '';\n        if (!dataURL) {\n            throw new Error('Failed to convert to blob');\n        }\n    }\n    // Try HTML5 download attr if supported\n    if (typeof a.download !== 'undefined') {\n        a.href = dataURL;\n        a.download = filename; // HTML5 download attribute\n        doc.body.appendChild(a);\n        a.click();\n        doc.body.removeChild(a);\n    }\n    else {\n        // No download attr, just opening data URI\n        try {\n            if (!win.open(dataURL, 'chart')) {\n                throw new Error('Failed to open window');\n            }\n        }\n        catch {\n            // If window.open failed, try location.href\n            win.location.href = dataURL;\n        }\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\nconst DownloadURL = {\n    dataURLtoBlob,\n    downloadURL\n};\n/* harmony default export */ const Extensions_DownloadURL = (DownloadURL);\n\n;// external [\"../highcharts.js\",\"default\",\"AST\"]\nconst external_highcharts_src_js_default_AST_namespaceObject = __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__[\"default\"].AST;\nvar external_highcharts_src_js_default_AST_default = /*#__PURE__*/__webpack_require__.n(external_highcharts_src_js_default_AST_namespaceObject);\n;// ./code/es-modules/Extensions/ExportData/ExportDataDefaults.js\n/* *\n *\n *  Experimental data export module for Highcharts\n *\n *  (c) 2010-2025 Torstein Honsi\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n\n/* *\n *\n *  Constants\n *\n * */\n/**\n * @optionparent exporting\n * @private\n */\nconst exporting = {\n    /**\n     * Caption for the data table. Same as chart title by default. Set to\n     * `false` to disable.\n     *\n     * @sample highcharts/export-data/multilevel-table\n     *         Multiple table headers\n     *\n     * @type      {boolean|string}\n     * @since     6.0.4\n     * @requires  modules/export-data\n     * @apioption exporting.tableCaption\n     */\n    /**\n     * Options for exporting data to CSV or ExCel, or displaying the data\n     * in a HTML table or a JavaScript structure.\n     *\n     * This module adds data export options to the export menu and provides\n     * functions like `Chart.getCSV`, `Chart.getTable`, `Chart.getDataRows`\n     * and `Chart.viewData`.\n     *\n     * The XLS converter is limited and only creates a HTML string that is\n     * passed for download, which works but creates a warning before\n     * opening. The workaround for this is to use a third party XLSX\n     * converter, as demonstrated in the sample below.\n     *\n     * @sample  highcharts/export-data/categorized/ Categorized data\n     * @sample  highcharts/export-data/stock-timeaxis/ Highcharts Stock time axis\n     * @sample  highcharts/export-data/xlsx/\n     *          Using a third party XLSX converter\n     *\n     * @since    6.0.0\n     * @requires modules/export-data\n     */\n    csv: {\n        /**\n         *\n         * Options for annotations in the export-data table.\n         *\n         * @since 8.2.0\n         * @requires modules/export-data\n         * @requires modules/annotations\n         *\n         *\n         */\n        annotations: {\n            /**\n            * The way to mark the separator for annotations\n            * combined in one export-data table cell.\n            *\n            * @since 8.2.0\n            * @requires modules/annotations\n            */\n            itemDelimiter: '; ',\n            /**\n            * When several labels are assigned to a specific point,\n            * they will be displayed in one field in the table.\n            *\n            * @sample highcharts/export-data/join-annotations/\n            *         Concatenate point annotations with itemDelimiter set.\n            *\n            * @since 8.2.0\n            * @requires modules/annotations\n            */\n            join: false\n        },\n        /**\n         * Formatter callback for the column headers. Parameters are:\n         * - `item` - The series or axis object)\n         * - `key` -  The point key, for example y or z\n         * - `keyLength` - The amount of value keys for this item, for\n         *   example a range series has the keys `low` and `high` so the\n         *   key length is 2.\n         *\n         * If [useMultiLevelHeaders](#exporting.useMultiLevelHeaders) is\n         * true, columnHeaderFormatter by default returns an object with\n         * columnTitle and topLevelColumnTitle for each key. Columns with\n         * the same topLevelColumnTitle have their titles merged into a\n         * single cell with colspan for table/Excel export.\n         *\n         * If `useMultiLevelHeaders` is false, or for CSV export, it returns\n         * the series name, followed by the key if there is more than one\n         * key.\n         *\n         * For the axis it returns the axis title or \"Category\" or\n         * \"DateTime\" by default.\n         *\n         * Return `false` to use Highcharts' proposed header.\n         *\n         * @sample highcharts/export-data/multilevel-table\n         *         Multiple table headers\n         *\n         * @type {Function|null}\n         */\n        columnHeaderFormatter: null,\n        /**\n         * Which date format to use for exported dates on a datetime X axis.\n         * See `Highcharts.dateFormat`.\n         */\n        dateFormat: '%Y-%m-%d %H:%M:%S',\n        /**\n         * Which decimal point to use for exported CSV. Defaults to the same\n         * as the browser locale, typically `.` (English) or `,` (German,\n         * French etc).\n         *\n         * @type  {string|null}\n         * @since 6.0.4\n         */\n        decimalPoint: null,\n        /**\n         * The item delimiter in the exported data. Use `;` for direct\n         * exporting to Excel. Defaults to a best guess based on the browser\n         * locale. If the locale _decimal point_ is `,`, the `itemDelimiter`\n         * defaults to `;`, otherwise the `itemDelimiter` defaults to `,`.\n         *\n         * @type {string|null}\n         */\n        itemDelimiter: null,\n        /**\n         * The line delimiter in the exported data, defaults to a newline.\n         */\n        lineDelimiter: '\\n'\n    },\n    /**\n     * Show a HTML table below the chart with the chart's current data.\n     *\n     * @sample highcharts/export-data/showtable/\n     *         Show the table\n     * @sample highcharts/studies/exporting-table-html\n     *         Experiment with putting the table inside the subtitle to\n     *         allow exporting it.\n     *\n     * @since    6.0.0\n     * @requires modules/export-data\n     */\n    showTable: false,\n    /**\n     * Use multi level headers in data table. If [csv.columnHeaderFormatter\n     * ](#exporting.csv.columnHeaderFormatter) is defined, it has to return\n     * objects in order for multi level headers to work.\n     *\n     * @sample highcharts/export-data/multilevel-table\n     *         Multiple table headers\n     *\n     * @since    6.0.4\n     * @requires modules/export-data\n     */\n    useMultiLevelHeaders: true,\n    /**\n     * If using multi level table headers, use rowspans for headers that\n     * have only one level.\n     *\n     * @sample highcharts/export-data/multilevel-table\n     *         Multiple table headers\n     *\n     * @since    6.0.4\n     * @requires modules/export-data\n     */\n    useRowspanHeaders: true,\n    /**\n     * Display a message when export is in progress.\n     * Uses [Chart.setLoading()](/class-reference/Highcharts.Chart#setLoading)\n     *\n     * The message can be altered by changing [](#lang.exporting.exportInProgress)\n     *\n     * @since 11.3.0\n     * @requires modules/export-data\n     */\n    showExportInProgress: true\n};\n/**\n * @optionparent lang\n * @private\n */\nconst lang = {\n    /**\n     * The text for the menu item.\n     *\n     * @since    6.0.0\n     * @requires modules/export-data\n     */\n    downloadCSV: 'Download CSV',\n    /**\n     * The text for the menu item.\n     *\n     * @since    6.0.0\n     * @requires modules/export-data\n     */\n    downloadXLS: 'Download XLS',\n    /**\n     * The text for exported table.\n     *\n     * @since 8.1.0\n     * @requires modules/export-data\n     */\n    exportData: {\n        /**\n         * The annotation column title.\n         */\n        annotationHeader: 'Annotations',\n        /**\n         * The category column title.\n         */\n        categoryHeader: 'Category',\n        /**\n         * The category column title when axis type set to \"datetime\".\n         */\n        categoryDatetimeHeader: 'DateTime'\n    },\n    /**\n     * The text for the menu item.\n     *\n     * @since    6.0.0\n     * @requires modules/export-data\n     */\n    viewData: 'View data table',\n    /**\n     * The text for the menu item.\n     *\n     * @since 8.2.0\n     * @requires modules/export-data\n     */\n    hideData: 'Hide data table',\n    /**\n     * Text to show when export is in progress.\n     *\n     * @since 11.3.0\n     * @requires modules/export-data\n     */\n    exportInProgress: 'Exporting...'\n};\n/* *\n *\n *  Default Export\n *\n * */\nconst ExportDataDefaults = {\n    exporting,\n    lang\n};\n/* harmony default export */ const ExportData_ExportDataDefaults = (ExportDataDefaults);\n/* *\n *\n *  API Options\n *\n * */\n/**\n * Callback that fires while exporting data. This allows the modification of\n * data rows before processed into the final format.\n *\n * @type      {Highcharts.ExportDataCallbackFunction}\n * @context   Highcharts.Chart\n * @requires  modules/export-data\n * @apioption chart.events.exportData\n */\n/**\n * When set to `false` will prevent the series data from being included in\n * any form of data export.\n *\n * Since version 6.0.0 until 7.1.0 the option was existing undocumented\n * as `includeInCSVExport`.\n *\n * @type      {boolean}\n * @since     7.1.0\n * @requires  modules/export-data\n * @apioption plotOptions.series.includeInDataExport\n */\n(''); // Keep doclets above in JS file\n\n;// ./code/es-modules/Extensions/ExportData/ExportData.js\n/* *\n *\n *  Experimental data export module for Highcharts\n *\n *  (c) 2010-2025 Torstein Honsi\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n// @todo\n// - Set up systematic tests for all series types, paired with tests of the data\n//   module importing the same data.\n\n\n\nconst { getOptions, setOptions } = (external_highcharts_src_js_default_default());\n\nconst { downloadURL: ExportData_downloadURL } = Extensions_DownloadURL;\n\n\nconst { doc: ExportData_doc, win: ExportData_win } = (external_highcharts_src_js_default_default());\n\nconst { addEvent, defined, extend, find, fireEvent, isNumber, pick } = (external_highcharts_src_js_default_default());\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Wrapper function for the download functions, which handles showing and hiding\n * the loading message\n *\n * @private\n *\n */\nfunction wrapLoading(fn) {\n    const showMessage = Boolean(this.options.exporting?.showExportInProgress);\n    // Prefer requestAnimationFrame if available\n    const timeoutFn = ExportData_win.requestAnimationFrame || setTimeout;\n    // Outer timeout avoids menu freezing on click\n    timeoutFn(() => {\n        showMessage && this.showLoading(this.options.lang.exportInProgress);\n        timeoutFn(() => {\n            try {\n                fn.call(this);\n            }\n            finally {\n                showMessage && this.hideLoading();\n            }\n        });\n    });\n}\n/**\n * Generates a data URL of CSV for local download in the browser. This is the\n * default action for a click on the 'Download CSV' button.\n *\n * See {@link Highcharts.Chart#getCSV} to get the CSV data itself.\n *\n * @function Highcharts.Chart#downloadCSV\n *\n * @requires modules/exporting\n */\nfunction chartDownloadCSV() {\n    wrapLoading.call(this, () => {\n        const csv = this.getCSV(true);\n        ExportData_downloadURL(getBlobFromContent(csv, 'text/csv') ||\n            'data:text/csv,\\uFEFF' + encodeURIComponent(csv), this.getFilename() + '.csv');\n    });\n}\n/**\n * Generates a data URL of an XLS document for local download in the browser.\n * This is the default action for a click on the 'Download XLS' button.\n *\n * See {@link Highcharts.Chart#getTable} to get the table data itself.\n *\n * @function Highcharts.Chart#downloadXLS\n *\n * @requires modules/exporting\n */\nfunction chartDownloadXLS() {\n    wrapLoading.call(this, () => {\n        const uri = 'data:application/vnd.ms-excel;base64,', template = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" ' +\n            'xmlns:x=\"urn:schemas-microsoft-com:office:excel\" ' +\n            'xmlns=\"http://www.w3.org/TR/REC-html40\">' +\n            '<head><!--[if gte mso 9]><xml><x:ExcelWorkbook>' +\n            '<x:ExcelWorksheets><x:ExcelWorksheet>' +\n            '<x:Name>Ark1</x:Name>' +\n            '<x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions>' +\n            '</x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook>' +\n            '</xml><![endif]-->' +\n            '<style>td{border:none;font-family: Calibri, sans-serif;} ' +\n            '.number{mso-number-format:\"0.00\";} ' +\n            '.text{ mso-number-format:\"\\@\";}</style>' +\n            '<meta name=ProgId content=Excel.Sheet>' +\n            '<meta charset=UTF-8>' +\n            '</head><body>' +\n            this.getTable(true) +\n            '</body></html>', base64 = function (s) {\n            return ExportData_win.btoa(unescape(encodeURIComponent(s))); // #50\n        };\n        ExportData_downloadURL(getBlobFromContent(template, 'application/vnd.ms-excel') ||\n            uri + base64(template), this.getFilename() + '.xls');\n    });\n}\n/**\n * Export-data module required. Returns the current chart data as a CSV string.\n *\n * @function Highcharts.Chart#getCSV\n *\n * @param {boolean} [useLocalDecimalPoint]\n *        Whether to use the local decimal point as detected from the browser.\n *        This makes it easier to export data to Excel in the same locale as the\n *        user is.\n *\n * @return {string}\n *         CSV representation of the data\n */\nfunction chartGetCSV(useLocalDecimalPoint) {\n    let csv = '';\n    const rows = this.getDataRows(), csvOptions = this.options.exporting.csv, decimalPoint = pick(csvOptions.decimalPoint, csvOptions.itemDelimiter !== ',' && useLocalDecimalPoint ?\n        (1.1).toLocaleString()[1] :\n        '.'), \n    // Use ';' for direct to Excel\n    itemDelimiter = pick(csvOptions.itemDelimiter, decimalPoint === ',' ? ';' : ','), \n    // '\\n' isn't working with the js csv data extraction\n    lineDelimiter = csvOptions.lineDelimiter;\n    // Transform the rows to CSV\n    rows.forEach((row, i) => {\n        let val = '', j = row.length;\n        while (j--) {\n            val = row[j];\n            if (typeof val === 'string') {\n                val = `\"${val}\"`;\n            }\n            if (typeof val === 'number') {\n                if (decimalPoint !== '.') {\n                    val = val.toString().replace('.', decimalPoint);\n                }\n            }\n            row[j] = val;\n        }\n        // The first row is the header - it defines the number of columns.\n        // Empty columns between not-empty cells are covered in the getDataRows\n        // method.\n        // Now add empty values only to the end of the row so all rows have\n        // the same number of columns, #17186\n        row.length = rows.length ? rows[0].length : 0;\n        // Add the values\n        csv += row.join(itemDelimiter);\n        // Add the line delimiter\n        if (i < rows.length - 1) {\n            csv += lineDelimiter;\n        }\n    });\n    return csv;\n}\n/**\n * Export-data module required. Returns a two-dimensional array containing the\n * current chart data.\n *\n * @function Highcharts.Chart#getDataRows\n *\n * @param {boolean} [multiLevelHeaders]\n *        Use multilevel headers for the rows by default. Adds an extra row with\n *        top level headers. If a custom columnHeaderFormatter is defined, this\n *        can override the behavior.\n *\n * @return {Array<Array<(number|string)>>}\n *         The current chart data\n *\n * @emits Highcharts.Chart#event:exportData\n */\nfunction chartGetDataRows(multiLevelHeaders) {\n    const hasParallelCoords = this.hasParallelCoordinates, time = this.time, csvOptions = ((this.options.exporting && this.options.exporting.csv) || {}), xAxes = this.xAxis, rows = {}, rowArr = [], topLevelColumnTitles = [], columnTitles = [], langOptions = this.options.lang, exportDataOptions = langOptions.exportData, categoryHeader = exportDataOptions.categoryHeader, categoryDatetimeHeader = exportDataOptions.categoryDatetimeHeader, \n    // Options\n    columnHeaderFormatter = function (item, key, keyLength) {\n        if (csvOptions.columnHeaderFormatter) {\n            const s = csvOptions.columnHeaderFormatter(item, key, keyLength);\n            if (s !== false) {\n                return s;\n            }\n        }\n        if (!item) {\n            return categoryHeader;\n        }\n        if (!item.bindAxes) {\n            return (item.options.title &&\n                item.options.title.text) || (item.dateTime ?\n                categoryDatetimeHeader :\n                categoryHeader);\n        }\n        if (multiLevelHeaders) {\n            return {\n                columnTitle: keyLength > 1 ?\n                    key :\n                    item.name,\n                topLevelColumnTitle: item.name\n            };\n        }\n        return item.name + (keyLength > 1 ? ' (' + key + ')' : '');\n    }, \n    // Map the categories for value axes\n    getCategoryAndDateTimeMap = function (series, pointArrayMap, pIdx) {\n        const categoryMap = {}, dateTimeValueAxisMap = {};\n        pointArrayMap.forEach(function (prop) {\n            const axisName = ((series.keyToAxis && series.keyToAxis[prop]) ||\n                prop) + 'Axis', \n            // Points in parallel coordinates refers to all yAxis\n            // not only `series.yAxis`\n            axis = isNumber(pIdx) ?\n                series.chart[axisName][pIdx] :\n                series[axisName];\n            categoryMap[prop] = (axis && axis.categories) || [];\n            dateTimeValueAxisMap[prop] = (axis && axis.dateTime);\n        });\n        return {\n            categoryMap: categoryMap,\n            dateTimeValueAxisMap: dateTimeValueAxisMap\n        };\n    }, \n    // Create point array depends if xAxis is category\n    // or point.name is defined #13293\n    getPointArray = function (series, xAxis) {\n        const pointArrayMap = series.pointArrayMap || ['y'], namedPoints = series.data.some((d) => (typeof d.y !== 'undefined') && d.name);\n        // If there are points with a name, we also want the x value in the\n        // table\n        if (namedPoints &&\n            xAxis &&\n            !xAxis.categories &&\n            series.exportKey !== 'name') {\n            return ['x', ...pointArrayMap];\n        }\n        return pointArrayMap;\n    }, xAxisIndices = [];\n    let xAxis, dataRows, columnTitleObj, i = 0, // Loop the series and index values\n    x, xTitle;\n    this.series.forEach(function (series) {\n        const keys = series.options.keys, xAxis = series.xAxis, pointArrayMap = keys || getPointArray(series, xAxis), valueCount = pointArrayMap.length, xTaken = !series.requireSorting && {}, xAxisIndex = xAxes.indexOf(xAxis);\n        let categoryAndDatetimeMap = getCategoryAndDateTimeMap(series, pointArrayMap), mockSeries, j;\n        if (series.options.includeInDataExport !== false &&\n            !series.options.isInternal &&\n            series.visible !== false // #55\n        ) {\n            // Build a lookup for X axis index and the position of the first\n            // series that belongs to that X axis. Includes -1 for non-axis\n            // series types like pies.\n            if (!find(xAxisIndices, function (index) {\n                return index[0] === xAxisIndex;\n            })) {\n                xAxisIndices.push([xAxisIndex, i]);\n            }\n            // Compute the column headers and top level headers, usually the\n            // same as series names\n            j = 0;\n            while (j < valueCount) {\n                columnTitleObj = columnHeaderFormatter(series, pointArrayMap[j], pointArrayMap.length);\n                columnTitles.push(columnTitleObj.columnTitle || columnTitleObj);\n                if (multiLevelHeaders) {\n                    topLevelColumnTitles.push(columnTitleObj.topLevelColumnTitle ||\n                        columnTitleObj);\n                }\n                j++;\n            }\n            mockSeries = {\n                chart: series.chart,\n                autoIncrement: series.autoIncrement,\n                options: series.options,\n                pointArrayMap: series.pointArrayMap,\n                index: series.index\n            };\n            // Export directly from options.data because we need the uncropped\n            // data (#7913), and we need to support Boost (#7026).\n            series.options.data.forEach(function eachData(options, pIdx) {\n                const mockPoint = { series: mockSeries };\n                let key, prop, val;\n                // In parallel coordinates chart, each data point is connected\n                // to a separate yAxis, conform this\n                if (hasParallelCoords) {\n                    categoryAndDatetimeMap = getCategoryAndDateTimeMap(series, pointArrayMap, pIdx);\n                }\n                series.pointClass.prototype.applyOptions.apply(mockPoint, [options]);\n                const name = series.data[pIdx] && series.data[pIdx].name;\n                key = (mockPoint.x ?? '') + ',' + name;\n                j = 0;\n                // Pies, funnels, geo maps etc. use point name in X row\n                if (!xAxis ||\n                    series.exportKey === 'name' ||\n                    (!hasParallelCoords && xAxis && xAxis.hasNames) && name) {\n                    key = name;\n                }\n                if (xTaken) {\n                    if (xTaken[key]) {\n                        key += '|' + pIdx;\n                    }\n                    xTaken[key] = true;\n                }\n                if (!rows[key]) {\n                    rows[key] = [];\n                    rows[key].xValues = [];\n                    // ES5 replacement for Array.from / fill.\n                    const arr = [];\n                    for (let i = 0; i < series.chart.series.length; i++) {\n                        arr[i] = 0;\n                    }\n                    // Create pointers array, holding information how many\n                    // duplicates of specific x occurs in each series.\n                    // Used for creating rows with duplicates.\n                    rows[key].pointers = arr;\n                    rows[key].pointers[series.index] = 1;\n                }\n                else {\n                    // Handle duplicates (points with the same x), by creating\n                    // extra rows based on pointers for better performance.\n                    const modifiedKey = `${key},${rows[key].pointers[series.index]}`, originalKey = key;\n                    if (rows[key].pointers[series.index]) {\n                        if (!rows[modifiedKey]) {\n                            rows[modifiedKey] = [];\n                            rows[modifiedKey].xValues = [];\n                            rows[modifiedKey].pointers = [];\n                        }\n                        key = modifiedKey;\n                    }\n                    rows[originalKey].pointers[series.index] += 1;\n                }\n                rows[key].x = mockPoint.x;\n                rows[key].name = name;\n                rows[key].xValues[xAxisIndex] = mockPoint.x;\n                while (j < valueCount) {\n                    prop = pointArrayMap[j]; // `y`, `z` etc\n                    val = series.pointClass.prototype.getNestedProperty.apply(mockPoint, [prop]); // Allow values from nested properties (#20470)\n                    rows[key][i + j] = pick(\n                    // Y axis category if present\n                    categoryAndDatetimeMap.categoryMap[prop][val], \n                    // Datetime yAxis\n                    categoryAndDatetimeMap.dateTimeValueAxisMap[prop] ?\n                        time.dateFormat(csvOptions.dateFormat, val) :\n                        null, \n                    // Linear/log yAxis\n                    val);\n                    j++;\n                }\n            });\n            i = i + j;\n        }\n    });\n    // Make a sortable array\n    for (x in rows) {\n        if (Object.hasOwnProperty.call(rows, x)) {\n            rowArr.push(rows[x]);\n        }\n    }\n    let xAxisIndex, column;\n    // Add computed column headers and top level headers to final row set\n    dataRows = multiLevelHeaders ? [topLevelColumnTitles, columnTitles] :\n        [columnTitles];\n    i = xAxisIndices.length;\n    while (i--) { // Start from end to splice in\n        xAxisIndex = xAxisIndices[i][0];\n        column = xAxisIndices[i][1];\n        xAxis = xAxes[xAxisIndex];\n        // Sort it by X values\n        rowArr.sort(function (// eslint-disable-line no-loop-func\n        a, b) {\n            return a.xValues[xAxisIndex] - b.xValues[xAxisIndex];\n        });\n        // Add header row\n        xTitle = columnHeaderFormatter(xAxis);\n        dataRows[0].splice(column, 0, xTitle);\n        if (multiLevelHeaders && dataRows[1]) {\n            // If using multi level headers, we just added top level header.\n            // Also add for sub level\n            dataRows[1].splice(column, 0, xTitle);\n        }\n        // Add the category column\n        rowArr.forEach(function (// eslint-disable-line no-loop-func\n        row) {\n            let category = row.name;\n            if (xAxis && !defined(category)) {\n                if (xAxis.dateTime) {\n                    if (row.x instanceof Date) {\n                        row.x = row.x.getTime();\n                    }\n                    category = time.dateFormat(csvOptions.dateFormat, row.x);\n                }\n                else if (xAxis.categories) {\n                    category = pick(xAxis.names[row.x], xAxis.categories[row.x], row.x);\n                }\n                else {\n                    category = row.x;\n                }\n            }\n            // Add the X/date/category\n            row.splice(column, 0, category);\n        });\n    }\n    dataRows = dataRows.concat(rowArr);\n    fireEvent(this, 'exportData', { dataRows: dataRows });\n    return dataRows;\n}\n/**\n * Export-data module required. Build a HTML table with the chart's current\n * data.\n *\n * @sample highcharts/export-data/viewdata/\n *         View the data from the export menu\n *\n * @function Highcharts.Chart#getTable\n *\n * @param {boolean} [useLocalDecimalPoint]\n *        Whether to use the local decimal point as detected from the browser.\n *        This makes it easier to export data to Excel in the same locale as the\n *        user is.\n *\n * @return {string}\n *         HTML representation of the data.\n *\n * @emits Highcharts.Chart#event:afterGetTable\n */\nfunction chartGetTable(useLocalDecimalPoint) {\n    const serialize = (node) => {\n        if (!node.tagName || node.tagName === '#text') {\n            // Text node\n            return node.textContent || '';\n        }\n        const attributes = node.attributes;\n        let html = `<${node.tagName}`;\n        if (attributes) {\n            Object.keys(attributes)\n                .forEach((key) => {\n                const value = attributes[key];\n                html += ` ${key}=\"${value}\"`;\n            });\n        }\n        html += '>';\n        html += node.textContent || '';\n        (node.children || []).forEach((child) => {\n            html += serialize(child);\n        });\n        html += `</${node.tagName}>`;\n        return html;\n    };\n    const tree = this.getTableAST(useLocalDecimalPoint);\n    return serialize(tree);\n}\n/**\n * Get the AST of a HTML table representing the chart data.\n *\n * @private\n *\n * @function Highcharts.Chart#getTableAST\n *\n * @param {boolean} [useLocalDecimalPoint]\n *        Whether to use the local decimal point as detected from the browser.\n *        This makes it easier to export data to Excel in the same locale as the\n *        user is.\n *\n * @return {Highcharts.ASTNode}\n *         The abstract syntax tree\n */\nfunction chartGetTableAST(useLocalDecimalPoint) {\n    let rowLength = 0;\n    const treeChildren = [];\n    const options = this.options, decimalPoint = useLocalDecimalPoint ? (1.1).toLocaleString()[1] : '.', useMultiLevelHeaders = pick(options.exporting.useMultiLevelHeaders, true), rows = this.getDataRows(useMultiLevelHeaders), topHeaders = useMultiLevelHeaders ? rows.shift() : null, subHeaders = rows.shift(), \n    // Compare two rows for equality\n    isRowEqual = function (row1, row2) {\n        let i = row1.length;\n        if (row2.length === i) {\n            while (i--) {\n                if (row1[i] !== row2[i]) {\n                    return false;\n                }\n            }\n        }\n        else {\n            return false;\n        }\n        return true;\n    }, \n    // Get table cell HTML from value\n    getCellHTMLFromValue = function (tagName, classes, attributes, value) {\n        let textContent = pick(value, ''), className = 'highcharts-text' + (classes ? ' ' + classes : '');\n        // Convert to string if number\n        if (typeof textContent === 'number') {\n            textContent = textContent.toString();\n            if (decimalPoint === ',') {\n                textContent = textContent.replace('.', decimalPoint);\n            }\n            className = 'highcharts-number';\n        }\n        else if (!value) {\n            className = 'highcharts-empty';\n        }\n        attributes = extend({ 'class': className }, attributes);\n        return {\n            tagName,\n            attributes,\n            textContent\n        };\n    }, \n    // Get table header markup from row data\n    getTableHeaderHTML = function (topheaders, subheaders, rowLength) {\n        const theadChildren = [];\n        let i = 0, len = rowLength || subheaders && subheaders.length, next, cur, curColspan = 0, rowspan;\n        // Clean up multiple table headers. Chart.getDataRows() returns two\n        // levels of headers when using multilevel, not merged. We need to\n        // merge identical headers, remove redundant headers, and keep it\n        // all marked up nicely.\n        if (useMultiLevelHeaders &&\n            topheaders &&\n            subheaders &&\n            !isRowEqual(topheaders, subheaders)) {\n            const trChildren = [];\n            for (; i < len; ++i) {\n                cur = topheaders[i];\n                next = topheaders[i + 1];\n                if (cur === next) {\n                    ++curColspan;\n                }\n                else if (curColspan) {\n                    // Ended colspan\n                    // Add cur to HTML with colspan.\n                    trChildren.push(getCellHTMLFromValue('th', 'highcharts-table-topheading', {\n                        scope: 'col',\n                        colspan: curColspan + 1\n                    }, cur));\n                    curColspan = 0;\n                }\n                else {\n                    // Cur is standalone. If it is same as sublevel,\n                    // remove sublevel and add just toplevel.\n                    if (cur === subheaders[i]) {\n                        if (options.exporting.useRowspanHeaders) {\n                            rowspan = 2;\n                            delete subheaders[i];\n                        }\n                        else {\n                            rowspan = 1;\n                            subheaders[i] = '';\n                        }\n                    }\n                    else {\n                        rowspan = 1;\n                    }\n                    const cell = getCellHTMLFromValue('th', 'highcharts-table-topheading', { scope: 'col' }, cur);\n                    if (rowspan > 1 && cell.attributes) {\n                        cell.attributes.valign = 'top';\n                        cell.attributes.rowspan = rowspan;\n                    }\n                    trChildren.push(cell);\n                }\n            }\n            theadChildren.push({\n                tagName: 'tr',\n                children: trChildren\n            });\n        }\n        // Add the subheaders (the only headers if not using multilevels)\n        if (subheaders) {\n            const trChildren = [];\n            for (i = 0, len = subheaders.length; i < len; ++i) {\n                if (typeof subheaders[i] !== 'undefined') {\n                    trChildren.push(getCellHTMLFromValue('th', null, { scope: 'col' }, subheaders[i]));\n                }\n            }\n            theadChildren.push({\n                tagName: 'tr',\n                children: trChildren\n            });\n        }\n        return {\n            tagName: 'thead',\n            children: theadChildren\n        };\n    };\n    // Add table caption\n    const { tableCaption } = options.exporting || {};\n    if (tableCaption !== false) {\n        treeChildren.push({\n            tagName: 'caption',\n            attributes: {\n                'class': 'highcharts-table-caption'\n            },\n            textContent: typeof tableCaption === 'string' ?\n                tableCaption :\n                options.title?.text || options.lang.chartTitle\n        });\n    }\n    // Find longest row\n    for (let i = 0, len = rows.length; i < len; ++i) {\n        if (rows[i].length > rowLength) {\n            rowLength = rows[i].length;\n        }\n    }\n    // Add header\n    treeChildren.push(getTableHeaderHTML(topHeaders, subHeaders, Math.max(rowLength, subHeaders.length)));\n    // Transform the rows to HTML\n    const trs = [];\n    rows.forEach(function (row) {\n        const trChildren = [];\n        for (let j = 0; j < rowLength; j++) {\n            // Make first column a header too. Especially important for\n            // category axes, but also might make sense for datetime? Should\n            // await user feedback on this.\n            trChildren.push(getCellHTMLFromValue(j ? 'td' : 'th', null, j ? {} : { scope: 'row' }, row[j]));\n        }\n        trs.push({\n            tagName: 'tr',\n            children: trChildren\n        });\n    });\n    treeChildren.push({\n        tagName: 'tbody',\n        children: trs\n    });\n    const e = {\n        tree: {\n            tagName: 'table',\n            id: `highcharts-data-table-${this.index}`,\n            children: treeChildren\n        }\n    };\n    fireEvent(this, 'aftergetTableAST', e);\n    return e.tree;\n}\n/**\n * Export-data module required. Hide the data table when visible.\n *\n * @function Highcharts.Chart#hideData\n */\nfunction chartHideData() {\n    this.toggleDataTable(false);\n}\n/**\n * @private\n */\nfunction chartToggleDataTable(show) {\n    show = pick(show, !this.isDataTableVisible);\n    // Create the div\n    const createContainer = show && !this.dataTableDiv;\n    if (createContainer) {\n        this.dataTableDiv = ExportData_doc.createElement('div');\n        this.dataTableDiv.className = 'highcharts-data-table';\n        // Insert after the chart container\n        this.renderTo.parentNode.insertBefore(this.dataTableDiv, this.renderTo.nextSibling);\n    }\n    // Toggle the visibility\n    if (this.dataTableDiv) {\n        const style = this.dataTableDiv.style, oldDisplay = style.display;\n        style.display = show ? 'block' : 'none';\n        // Generate the data table\n        if (show) {\n            this.dataTableDiv.innerHTML = (external_highcharts_src_js_default_AST_default()).emptyHTML;\n            const ast = new (external_highcharts_src_js_default_AST_default())([this.getTableAST()]);\n            ast.addToDOM(this.dataTableDiv);\n            fireEvent(this, 'afterViewData', {\n                element: this.dataTableDiv,\n                wasHidden: createContainer || oldDisplay !== style.display\n            });\n        }\n        else {\n            fireEvent(this, 'afterHideData');\n        }\n    }\n    // Set the flag\n    this.isDataTableVisible = show;\n    // Change the menu item text\n    const exportDivElements = this.exportDivElements, options = this.options.exporting, menuItems = options &&\n        options.buttons &&\n        options.buttons.contextButton.menuItems, lang = this.options.lang;\n    if (options &&\n        options.menuItemDefinitions &&\n        lang &&\n        lang.viewData &&\n        lang.hideData &&\n        menuItems &&\n        exportDivElements) {\n        const exportDivElement = exportDivElements[menuItems.indexOf('viewData')];\n        if (exportDivElement) {\n            external_highcharts_src_js_default_AST_default().setElementHTML(exportDivElement, this.isDataTableVisible ? lang.hideData : lang.viewData);\n        }\n    }\n}\n/**\n * Export-data module required. View the data in a table below the chart.\n *\n * @function Highcharts.Chart#viewData\n *\n * @emits Highcharts.Chart#event:afterViewData\n */\nfunction chartViewData() {\n    this.toggleDataTable(true);\n}\n/**\n * @private\n */\nfunction compose(ChartClass, SeriesClass) {\n    const chartProto = ChartClass.prototype;\n    if (!chartProto.getCSV) {\n        const exportingOptions = getOptions().exporting;\n        // Add an event listener to handle the showTable option\n        addEvent(ChartClass, 'afterViewData', onChartAfterViewData);\n        addEvent(ChartClass, 'render', onChartRenderer);\n        addEvent(ChartClass, 'destroy', onChartDestroy);\n        chartProto.downloadCSV = chartDownloadCSV;\n        chartProto.downloadXLS = chartDownloadXLS;\n        chartProto.getCSV = chartGetCSV;\n        chartProto.getDataRows = chartGetDataRows;\n        chartProto.getTable = chartGetTable;\n        chartProto.getTableAST = chartGetTableAST;\n        chartProto.hideData = chartHideData;\n        chartProto.toggleDataTable = chartToggleDataTable;\n        chartProto.viewData = chartViewData;\n        // Add \"Download CSV\" to the exporting menu.\n        // @todo consider move to defaults\n        if (exportingOptions) {\n            extend(exportingOptions.menuItemDefinitions, {\n                downloadCSV: {\n                    textKey: 'downloadCSV',\n                    onclick: function () {\n                        this.downloadCSV();\n                    }\n                },\n                downloadXLS: {\n                    textKey: 'downloadXLS',\n                    onclick: function () {\n                        this.downloadXLS();\n                    }\n                },\n                viewData: {\n                    textKey: 'viewData',\n                    onclick: function () {\n                        wrapLoading.call(this, this.toggleDataTable);\n                    }\n                }\n            });\n            if (exportingOptions.buttons &&\n                exportingOptions.buttons.contextButton.menuItems) {\n                exportingOptions.buttons.contextButton.menuItems.push('separator', 'downloadCSV', 'downloadXLS', 'viewData');\n            }\n        }\n        setOptions(ExportData_ExportDataDefaults);\n        const { arearange: AreaRangeSeries, gantt: GanttSeries, map: MapSeries, mapbubble: MapBubbleSeries, treemap: TreemapSeries, xrange: XRangeSeries } = SeriesClass.types;\n        if (AreaRangeSeries) {\n            AreaRangeSeries.prototype.keyToAxis = {\n                low: 'y',\n                high: 'y'\n            };\n        }\n        if (GanttSeries) {\n            GanttSeries.prototype.exportKey = 'name';\n            GanttSeries.prototype.keyToAxis = {\n                start: 'x',\n                end: 'x'\n            };\n        }\n        if (MapSeries) {\n            MapSeries.prototype.exportKey = 'name';\n        }\n        if (MapBubbleSeries) {\n            MapBubbleSeries.prototype.exportKey = 'name';\n        }\n        if (TreemapSeries) {\n            TreemapSeries.prototype.exportKey = 'name';\n        }\n        if (XRangeSeries) {\n            XRangeSeries.prototype.keyToAxis = {\n                x2: 'x'\n            };\n        }\n    }\n}\n/**\n * Get a blob object from content, if blob is supported\n *\n * @private\n * @param {string} content\n *        The content to create the blob from.\n * @param {string} type\n *        The type of the content.\n * @return {string|undefined}\n *         The blob object, or undefined if not supported.\n */\nfunction getBlobFromContent(content, type) {\n    const nav = ExportData_win.navigator, domurl = ExportData_win.URL || ExportData_win.webkitURL || ExportData_win;\n    try {\n        // MS specific\n        if ((nav.msSaveOrOpenBlob) && ExportData_win.MSBlobBuilder) {\n            const blob = new ExportData_win.MSBlobBuilder();\n            blob.append(content);\n            return blob.getBlob('image/svg+xml');\n        }\n        return domurl.createObjectURL(new ExportData_win.Blob(['\\uFEFF' + content], // #7084\n        { type: type }));\n    }\n    catch (e) {\n        // Ignore\n    }\n}\n/**\n * @private\n */\nfunction onChartAfterViewData() {\n    const chart = this, dataTableDiv = chart.dataTableDiv, getCellValue = (tr, index) => tr.children[index].textContent, comparer = (index, ascending) => (a, b) => {\n        const sort = (v1, v2) => (v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ?\n            v1 - v2 :\n            v1.toString().localeCompare(v2));\n        return sort(getCellValue(ascending ? a : b, index), getCellValue(ascending ? b : a, index));\n    };\n    if (dataTableDiv &&\n        chart.options.exporting &&\n        chart.options.exporting.allowTableSorting) {\n        const row = dataTableDiv.querySelector('thead tr');\n        if (row) {\n            row.childNodes.forEach((th) => {\n                const table = th.closest('table');\n                th.addEventListener('click', function () {\n                    const rows = [...dataTableDiv.querySelectorAll('tr:not(thead tr)')], headers = [...th.parentNode.children];\n                    rows.sort(comparer(headers.indexOf(th), chart.ascendingOrderInTable =\n                        !chart.ascendingOrderInTable)).forEach((tr) => {\n                        table.appendChild(tr);\n                    });\n                    headers.forEach((th) => {\n                        [\n                            'highcharts-sort-ascending',\n                            'highcharts-sort-descending'\n                        ].forEach((className) => {\n                            if (th.classList.contains(className)) {\n                                th.classList.remove(className);\n                            }\n                        });\n                    });\n                    th.classList.add(chart.ascendingOrderInTable ?\n                        'highcharts-sort-ascending' :\n                        'highcharts-sort-descending');\n                });\n            });\n        }\n    }\n}\n/**\n * Handle the showTable option\n * @private\n */\nfunction onChartRenderer() {\n    if (this.options &&\n        this.options.exporting &&\n        this.options.exporting.showTable &&\n        !this.options.chart.forExport) {\n        this.viewData();\n    }\n}\n/**\n * Clean up\n * @private\n */\nfunction onChartDestroy() {\n    this.dataTableDiv?.remove();\n}\n/* *\n *\n *  Default Export\n *\n * */\nconst ExportData = {\n    compose\n};\n/* harmony default export */ const ExportData_ExportData = (ExportData);\n/* *\n *\n *  API Declarations\n *\n * */\n/**\n * Function callback to execute while data rows are processed for exporting.\n * This allows the modification of data rows before processed into the final\n * format.\n *\n * @callback Highcharts.ExportDataCallbackFunction\n * @extends Highcharts.EventCallbackFunction<Highcharts.Chart>\n *\n * @param {Highcharts.Chart} this\n * Chart context where the event occurred.\n *\n * @param {Highcharts.ExportDataEventObject} event\n * Event object with data rows that can be modified.\n */\n/**\n * Contains information about the export data event.\n *\n * @interface Highcharts.ExportDataEventObject\n */ /**\n* Contains the data rows for the current export task and can be modified.\n* @name Highcharts.ExportDataEventObject#dataRows\n* @type {Array<Array<string>>}\n*/\n(''); // Keeps doclets above in JS file\n\n;// external \"./exporting.js\"\nvar x = (y) => {\n\tvar x = {}; __webpack_require__.d(x,\n    \ty); return x\n    } \n    var y = (x) => (() => (x))\n    const external_exporting_src_js_namespaceObject = x({  });\n;// ./code/es-modules/masters/modules/export-data.js\n\n\n\n\n\n\nconst G = (external_highcharts_src_js_default_default());\n// Compatibility\nG.dataURLtoBlob = G.dataURLtoBlob || Extensions_DownloadURL.dataURLtoBlob;\nG.downloadURL = G.downloadURL || Extensions_DownloadURL.downloadURL;\n// Compose\nExportData_ExportData.compose(G.Chart, G.Series);\n/* harmony default export */ const export_data_src = ((external_highcharts_src_js_default_default()));\n\nexport { export_data_src as default };\n"],"names":["__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__","__webpack_require__","n","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","external_highcharts_src_js_default_namespaceObject","external_highcharts_src_js_default_default","isSafari","win","document","doc","domurl","URL","webkitURL","dataURLtoBlob","dataURL","parts","replace","match","length","atob","ArrayBuffer","Uint8Array","Blob","createObjectURL","binStr","buf","binary","i","charCodeAt","Extensions_DownloadURL","downloadURL","filename","nav","navigator","createElement","String","msSaveOrOpenBlob","userAgent","Error","isOldEdgeBrowser","test","safariBlob","indexOf","download","href","body","appendChild","click","removeChild","open","location","external_highcharts_src_js_default_AST_namespaceObject","AST","external_highcharts_src_js_default_AST_default","ExportData_ExportDataDefaults","exporting","csv","annotations","itemDelimiter","join","columnHeaderFormatter","dateFormat","decimalPoint","lineDelimiter","showTable","useMultiLevelHeaders","useRowspanHeaders","showExportInProgress","lang","downloadCSV","downloadXLS","exportData","annotationHeader","categoryHeader","categoryDatetimeHeader","viewData","hideData","exportInProgress","getOptions","setOptions","ExportData_downloadURL","ExportData_doc","ExportData_win","addEvent","defined","extend","find","fireEvent","isNumber","pick","wrapLoading","fn","showMessage","Boolean","options","timeoutFn","requestAnimationFrame","setTimeout","showLoading","hideLoading","chartDownloadCSV","getCSV","getBlobFromContent","encodeURIComponent","getFilename","chartDownloadXLS","template","getTable","uri","btoa","unescape","chartGetCSV","useLocalDecimalPoint","rows","getDataRows","csvOptions","toLocaleString","forEach","row","val","j","toString","chartGetDataRows","multiLevelHeaders","xAxisIndex","column","hasParallelCoords","hasParallelCoordinates","time","xAxes","xAxis","rowArr","topLevelColumnTitles","columnTitles","exportDataOptions","langOptions","item","keyLength","s","bindAxes","columnTitle","name","topLevelColumnTitle","title","text","dateTime","getCategoryAndDateTimeMap","series","pointArrayMap","pIdx","categoryMap","dateTimeValueAxisMap","axisName","keyToAxis","axis","chart","categories","getPointArray","namedPoints","data","some","y","exportKey","xAxisIndices","dataRows","columnTitleObj","x","xTitle","keys","valueCount","xTaken","requireSorting","categoryAndDatetimeMap","mockSeries","includeInDataExport","isInternal","visible","index","push","autoIncrement","mockPoint","pointClass","applyOptions","apply","hasNames","modifiedKey","pointers","originalKey","xValues","arr","getNestedProperty","sort","b","splice","category","Date","getTime","names","concat","chartGetTable","serialize","node","tagName","textContent","attributes","html","value","children","child","getTableAST","chartGetTableAST","rowLength","treeChildren","topHeaders","shift","subHeaders","isRowEqual","row1","row2","getCellHTMLFromValue","classes","className","tableCaption","chartTitle","len","getTableHeaderHTML","topheaders","subheaders","theadChildren","cur","curColspan","rowspan","trChildren","scope","colspan","cell","valign","Math","max","trs","e","tree","id","chartHideData","toggleDataTable","chartToggleDataTable","show","createContainer","isDataTableVisible","dataTableDiv","renderTo","parentNode","insertBefore","nextSibling","style","oldDisplay","display","innerHTML","emptyHTML","ast","addToDOM","element","wasHidden","exportDivElements","menuItems","buttons","contextButton","menuItemDefinitions","exportDivElement","setElementHTML","chartViewData","content","type","MSBlobBuilder","blob","append","getBlob","onChartAfterViewData","getCellValue","tr","comparer","ascending","v1","v2","isNaN","localeCompare","allowTableSorting","querySelector","childNodes","th","table","closest","addEventListener","querySelectorAll","headers","ascendingOrderInTable","classList","contains","remove","add","onChartRenderer","forExport","onChartDestroy","G","ExportData_ExportData","compose","ChartClass","SeriesClass","chartProto","exportingOptions","textKey","onclick","arearange","AreaRangeSeries","gantt","GanttSeries","map","MapSeries","mapbubble","MapBubbleSeries","treemap","TreemapSeries","xrange","XRangeSeries","types","low","high","start","end","x2","Chart","Series","export_data_src","default"],"mappings":"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"}